---
distro:         ManageIQ
version:        Hammer

group_id:       MethodsAvailableForAutomation
group_title:    Methods Available for Automation

subgroup_id:    MethodsAvailableForAutomation::TableOfContents
subgroup_title: Table of Contents

topic_id:       MethodsAvailableForAutomation::TableOfContents::Index
topic_title:    Index

article_title:  "Methods Available for Automation"

breadcrumb_group: Methods Available for Automation
breadcrumb_topic: Index
---

<div id="toc" class="toc">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_chap_methods_available_for_use_with_cloudforms_management_engine">1. Methods Available for Use with ManageIQ</a>
<ul class="sectlevel2">
<li><a href="#_about_evm-root">1.1. $evm.root</a></li>
<li><a href="#method-hierarchy">1.2. Method Hierarchy</a></li>
<li><a href="#base-methods">1.3. Base Methods</a></li>
<li><a href="#availability-zones-availability_zone">1.4. Availability Zones (availability_zone)</a></li>
<li><a href="#classifications-classification">1.5. Classifications (classification)</a></li>
<li><a href="#cloud-networks-cloud_network">1.6. Cloud Networks (cloud_network)</a></li>
<li><a href="#cloud-resource-quotas-cloud_resource_quota">1.7. Cloud Resource Quotas (cloud_resource_quota)</a></li>
<li><a href="#cloud-subnets-cloud_subnet">1.8. Cloud Subnets (cloud_subnet)</a></li>
<li><a href="#cloud-tenants-cloud_tenant">1.9. Cloud Tenants (cloud_tenant)</a></li>
<li><a href="#_customization_template">1.10. Customization Template (customization_template)</a></li>
<li><a href="#_sect_clusters_ems_cluster">1.11. Clusters (ems_cluster)</a></li>
<li><a href="#management-system-events-ems_event">1.12. Management System Events (ems_event)</a></li>
<li><a href="#management-system-folders-ems_folder">1.13. Management System Folders (ems_folder)</a></li>
<li><a href="#_sect_providers_ext_management_system">1.14. Providers (ext_management_system)</a>
<ul class="sectlevel3">
<li><a href="#cloud-providers-ems_cloud">1.14.1. Cloud Providers (ems_cloud)</a></li>
</ul>
</li>
<li><a href="#firewall-rules-firewall_rule">1.15. Firewall Rules (firewall_rule)</a></li>
<li><a href="#flavors-flavor">1.16. Flavors (flavor)</a></li>
<li><a href="#floating-ips-floating_ip">1.17. Floating IPs (floating_ip)</a></li>
<li><a href="#guest-applications-guest_application">1.18. Guest Applications (guest_application)</a></li>
<li><a href="#guest-device-guest_device">1.19. Guest Device (guest_device)</a></li>
<li><a href="#hardware-hardware">1.20. Hardware (hardware)</a></li>
<li><a href="#_sect_hosts_host">1.21. Hosts (host)</a>
<ul class="sectlevel3">
<li><a href="#hosts:-vmware-esx-host_vmware_esx">1.21.1. Hosts: Vmware ESX (host_vmware_esx)</a></li>
</ul>
</li>
<li><a href="#lan-lan">1.22. LAN (lan)</a></li>
<li><a href="#_sect_groups_miq_group">1.23. Groups (miq_group)</a></li>
<li><a href="#_sect_request_miq_request">1.24. Request (miq_request)</a>
<ul class="sectlevel3">
<li><a href="#_automation_request">1.24.1. Automation Request (automation_request)</a></li>
<li><a href="#_miq_host_provision_request">1.24.2. Host Provision Request (miq_host_provision_request)</a></li>
<li><a href="#_miq_provision_request">1.24.3. VM Provision Request (miq_provision_request)</a></li>
</ul>
</li>
<li><a href="#_sect_request_task_miq_request_task">1.25. Request Task (miq_request_task)</a>
<ul class="sectlevel3">
<li><a href="#_automation_task">1.25.1. Automation Task (automation_task)</a></li>
<li><a href="#_miq_host_provision">1.25.2. Host Provision Task (miq_host_provision)</a></li>
<li><a href="#_sect_vm_provision_task_miq_provision">1.25.3. VM Provision Task (miq_provision)</a></li>
<li><a href="#_service_template_provision_task">1.25.4. Service Template Provision Task (service_template_provision_task)</a></li>
<li><a href="#service-reconfiguration-task-service_reconfigure_task">1.25.5. Service Reconfiguration Task (service_reconfigure_task)</a></li>
<li><a href="#_vm_migrate_task">1.25.6. VM Migrate Task (vm_migrate_task)</a></li>
</ul>
</li>
<li><a href="#proxies-miq_proxy">1.26. Proxies (miq_proxy)</a></li>
<li><a href="#_sect_servers_miq_server">1.27. Servers (miq_server)</a></li>
<li><a href="#network-network">1.28. Network (network)</a></li>
<li><a href="#_pxe_image">1.29. PXE Image (pxe_image)</a></li>
<li><a href="#_pxe_server">1.30. PXE Server (pxe_server)</a></li>
<li><a href="#security-groups-security_group">1.31. Security Groups (security_group)</a></li>
<li><a href="#_service2">1.32. Service (service)</a></li>
<li><a href="#service-resource-service_resource">1.33. Service Resource (service_resource)</a></li>
<li><a href="#_service_template">1.34. Service Template (service_template)</a></li>
<li><a href="#snapshot-snapshot">1.35. Snapshot (snapshot)</a></li>
<li><a href="#_sect_datastores_storage">1.36. Datastores (storage)</a></li>
<li><a href="#switch-switch">1.37. Switch (switch)</a></li>
<li><a href="#_sect_user_user">1.38. User (user)</a></li>
<li><a href="#_sect_virtual_machines_and_templates_vm_or_template">1.39. Virtual Machines and Templates (vm_or_template)</a>
<ul class="sectlevel3">
<li><a href="#_sect_vms_vm">1.39.1. VMs (vm)</a></li>
</ul>
</li>
<li><a href="#_windows_image">1.40. Windows Image (windows_image)</a></li>
<li><a href="#_sect_creating_categories_and_tags">1.41. Creating Categories and Tags</a>
<ul class="sectlevel3">
<li><a href="#_category_and_tags_methods_example1">1.41.1. Category and Tags Methods Example</a></li>
</ul>
</li>
<li><a href="#_quota2">1.42. Quota</a></li>
</ul>
</li>
<li><a href="#terminology">Appendix A: Terminology</a></li>
</ul>
</div>
<div class="sect1">
<h2 id="_chap_methods_available_for_use_with_cloudforms_management_engine"><a class="anchor" href="#_chap_methods_available_for_use_with_cloudforms_management_engine"></a>1. Methods Available for Use with ManageIQ</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Methods can be used from within ManageIQ to create custom actions and workflows for the objects managed for your ManageIQ Infrastructure.
This document describes the methods available for use in ManageIQ.
This document is organized by the object hierarchy in the Automate Model.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Users of ManageIQ can construct custom automation methods in Ruby to extend the product.
ManageIQ ships with a core set of Ruby gems used by the ManageIQ Rails Application.
The Ruby gems in this set are subject to change, and have changed since the previous version. If you are calling gems using Automate that are no longer in the ManageIQ appliance, you can install them by using the <code>gem install</code> command.</p>
</div>
<div class="paragraph">
<p>While gems can be imported into automation methods using <code>require</code>, it is recommended that the authors of the automation methods clearly document the use of gems either in the core set or a custom set.
It is the responsibility of the author of such custom automation to own the life cycle of any gem being referenced in those methods.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="_about_evm-root"><a class="anchor" href="#_about_evm-root"></a>1.1. $evm.root</h3>
<div class="paragraph">
<p>When an Automate method is launched, it has one global variable: <code>$evm</code>.
The <code>$evm</code> variable allows the method to communicate back to ManageIQ.
The <code>$evm.root</code> is the root object in the workspace, it provides access to the data currently loaded in the ManageIQ model.
It use the objects data to solve more complex problems by integrating with ManageIQ methods.</p>
</div>
<div class="paragraph">
<p>The following is an excerpt from the <strong>InspectMe</strong> method that can be found in the <strong>ManageIQ\System\Request</strong> namespace.
The dumpRoot method accesses the <code>$evm.root</code> object, and sends all of its attributes to the ManageIQ Automate log for review.
In the dumpServer Method, the inspect method is run based on the value of the miq_server obtained from the <code>$evm.root</code> object.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="ruby"><span style="color:#777">#########################</span>
  <span style="color:#777">#</span>
  <span style="color:#777"># Method: dumpRoot</span>
  <span style="color:#777"># Description: Dump Root information</span>
  <span style="color:#777">#</span>
  <span style="color:#777">##########################</span>
  <span style="color:#080;font-weight:bold">def</span> <span style="color:#06B;font-weight:bold">dumpRoot</span>
    <span style="color:#d70">$evm</span>.log(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">info</span><span style="color:#710">&quot;</span></span>, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span><span style="color:#33B">@log_prefix</span><span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20"> - Root:&lt;$evm.root&gt; Begin Attributes</span><span style="color:#710">&quot;</span></span>)
    <span style="color:#d70">$evm</span>.root.attributes.sort.each { |k, v| <span style="color:#d70">$evm</span>.log(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">info</span><span style="color:#710">&quot;</span></span>, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span><span style="color:#33B">@log_prefix</span><span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20"> - Root:&lt;$evm.root&gt; Attributes - </span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>k<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20">: </span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>v<span style="font-weight:bold;color:#666">}</span></span><span style="color:#710">&quot;</span></span>)}
    <span style="color:#d70">$evm</span>.log(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">info</span><span style="color:#710">&quot;</span></span>, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span><span style="color:#33B">@log_prefix</span><span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20"> - Root:&lt;$evm.root&gt; End Attributes</span><span style="color:#710">&quot;</span></span>)
    <span style="color:#d70">$evm</span>.log(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">info</span><span style="color:#710">&quot;</span></span>, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#710">&quot;</span></span>)
  <span style="color:#080;font-weight:bold">end</span>

  <span style="color:#777">#########################</span>
  <span style="color:#777">#</span>
  <span style="color:#777"># Method: dumpServer</span>
  <span style="color:#777"># Inputs: $evm.root['miq_server']</span>
  <span style="color:#777"># Description: Dump MIQ Server information</span>
  <span style="color:#777">#</span>
  <span style="color:#777">##########################</span>
  <span style="color:#080;font-weight:bold">def</span> <span style="color:#06B;font-weight:bold">dumpServer</span>
    <span style="color:#d70">$evm</span>.log(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">info</span><span style="color:#710">&quot;</span></span>,<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span><span style="color:#33B">@log_prefix</span><span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20"> - Server:&lt;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span><span style="color:#d70">$evm</span>.root[<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">miq_server</span><span style="color:#710">'</span></span>].name<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20">&gt; Begin Attributes</span><span style="color:#710">&quot;</span></span>)
    <span style="color:#d70">$evm</span>.root[<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">miq_server</span><span style="color:#710">'</span></span>].attributes.sort.each { |k, v| <span style="color:#d70">$evm</span>.log(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">info</span><span style="color:#710">&quot;</span></span>, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span><span style="color:#33B">@log_prefix</span><span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20"> - Server:&lt;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span><span style="color:#d70">$evm</span>.root[<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">miq_server</span><span style="color:#710">'</span></span>].name<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20">&gt; Attributes - </span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>k<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20">: </span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>v.inspect<span style="font-weight:bold;color:#666">}</span></span><span style="color:#710">&quot;</span></span>)}
    <span style="color:#d70">$evm</span>.log(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">info</span><span style="color:#710">&quot;</span></span>,<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span><span style="color:#33B">@log_prefix</span><span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20"> - Server:&lt;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span><span style="color:#d70">$evm</span>.root[<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">miq_server</span><span style="color:#710">'</span></span>].name<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20">&gt; End Attributes</span><span style="color:#710">&quot;</span></span>)
    <span style="color:#d70">$evm</span>.log(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">info</span><span style="color:#710">&quot;</span></span>, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#710">&quot;</span></span>)
  <span style="color:#080;font-weight:bold">end</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The result of dumpRoot is below.
The value of miq_server is what gets passed into the dumpServer method.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="ruby">[----] <span style="color:#036;font-weight:bold">I</span>, [<span style="color:#00D">2012</span>-<span style="color:#00D">10</span>-<span style="color:#00D">23</span><span style="color:#606">T13</span>:<span style="color:#00D">53</span>:<span style="color:#60E">54.517279</span> <span style="color:#777">#5320:f329024]  INFO -- : &lt;User-Defined Method&gt; [InspectMe] - EVM Automate Method Started</span>
[----] <span style="color:#036;font-weight:bold">I</span>, [<span style="color:#00D">2012</span>-<span style="color:#00D">10</span>-<span style="color:#00D">23</span><span style="color:#606">T13</span>:<span style="color:#00D">53</span>:<span style="color:#60E">54.523637</span> <span style="color:#777">#5320:f329024]  INFO -- : &lt;User-Defined Method&gt; [InspectMe] - Root:&lt;$evm.root&gt; Begin Attributes</span>
[----] <span style="color:#036;font-weight:bold">I</span>, [<span style="color:#00D">2012</span>-<span style="color:#00D">10</span>-<span style="color:#00D">23</span><span style="color:#606">T13</span>:<span style="color:#00D">53</span>:<span style="color:#60E">54.527552</span> <span style="color:#777">#5320:ef8c538]  INFO -- : &lt;User-Defined Method&gt; [InspectMe] - Root:&lt;$evm.root&gt; Attributes - miq_server: #&lt;MiqAeMethodService::MiqAeServiceMiqServer:0x0000001e76d900&gt;</span>
[----] <span style="color:#036;font-weight:bold">I</span>, [<span style="color:#00D">2012</span>-<span style="color:#00D">10</span>-<span style="color:#00D">23</span><span style="color:#606">T13</span>:<span style="color:#00D">53</span>:<span style="color:#60E">54.528801</span> <span style="color:#777">#5320:ef8c538]  INFO -- : &lt;User-Defined Method&gt; [InspectMe] - Root:&lt;$evm.root&gt; Attributes - miq_server_id: 1</span>
[----] <span style="color:#036;font-weight:bold">I</span>, [<span style="color:#00D">2012</span>-<span style="color:#00D">10</span>-<span style="color:#00D">23</span><span style="color:#606">T13</span>:<span style="color:#00D">53</span>:<span style="color:#60E">54.529961</span> <span style="color:#777">#5320:ef8c538]  INFO -- : &lt;User-Defined Method&gt; [InspectMe] - Root:&lt;$evm.root&gt; Attributes - object_name: Request</span>
[----] <span style="color:#036;font-weight:bold">I</span>, [<span style="color:#00D">2012</span>-<span style="color:#00D">10</span>-<span style="color:#00D">23</span><span style="color:#606">T13</span>:<span style="color:#00D">53</span>:<span style="color:#60E">54.531067</span> <span style="color:#777">#5320:ef8c538]  INFO -- : &lt;User-Defined Method&gt; [InspectMe] - Root:&lt;$evm.root&gt; Attributes - request: inspectme</span>
[----] <span style="color:#036;font-weight:bold">I</span>, [<span style="color:#00D">2012</span>-<span style="color:#00D">10</span>-<span style="color:#00D">23</span><span style="color:#606">T13</span>:<span style="color:#00D">53</span>:<span style="color:#60E">54.534054</span> <span style="color:#777">#5320:ef8c538]  INFO -- : &lt;User-Defined Method&gt; [InspectMe] - Root:&lt;$evm.root&gt; Attributes - vm: DEV-JaneM</span>
[----] <span style="color:#036;font-weight:bold">I</span>, [<span style="color:#00D">2012</span>-<span style="color:#00D">10</span>-<span style="color:#00D">23</span><span style="color:#606">T13</span>:<span style="color:#00D">53</span>:<span style="color:#60E">54.535156</span> <span style="color:#777">#5320:ef8c538]  INFO -- : &lt;User-Defined Method&gt; [InspectMe] - Root:&lt;$evm.root&gt; Attributes - vm_id: 85</span>
[----] <span style="color:#036;font-weight:bold">I</span>, [<span style="color:#00D">2012</span>-<span style="color:#00D">10</span>-<span style="color:#00D">23</span><span style="color:#606">T13</span>:<span style="color:#00D">53</span>:<span style="color:#60E">54.536238</span> <span style="color:#777">#5320:ef8c538]  INFO -- : &lt;User-Defined Method&gt; [InspectMe] - Root:&lt;$evm.root&gt; Attributes - vmdb_object_type: vm</span>
[----] <span style="color:#036;font-weight:bold">I</span>, [<span style="color:#00D">2012</span>-<span style="color:#00D">10</span>-<span style="color:#00D">23</span><span style="color:#606">T13</span>:<span style="color:#00D">53</span>:<span style="color:#60E">54.537159</span> <span style="color:#777">#5320:f329024]  INFO -- : &lt;User-Defined Method&gt; [InspectMe] - Root:&lt;$evm.root&gt; End Attributes</span>
[----] <span style="color:#036;font-weight:bold">I</span>, [<span style="color:#00D">2012</span>-<span style="color:#00D">10</span>-<span style="color:#00D">23</span><span style="color:#606">T13</span>:<span style="color:#00D">53</span>:<span style="color:#60E">54.537772</span> <span style="color:#777">#5320:f329024]  INFO -- : &lt;User-Defined Method&gt;</span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="method-hierarchy"><a class="anchor" href="#method-hierarchy"></a>1.2. Method Hierarchy</h3>
<div class="paragraph">
<p>The Automate Model inline methods have a hierarchy.
The sublevels in the hierarchy have access to the methods for itself and the levels above it.
For example, Red Hat Hosts have access to the Red Hat Host methods, Host Methods, and Base Methods.</p>
</div>
<div class="paragraph">
<p>The following nested list displays the hierarchy.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Top Level: Base</p>
<div class="ulist">
<ul>
<li>
<p>Authentication (authentication)</p>
<div class="ulist">
<ul>
<li>
<p>Private Keys (auth_private_key)</p>
<div class="ulist">
<ul>
<li>
<p>Key Pair for Clouds (auth_key_pair_cloud)</p>
<div class="ulist">
<ul>
<li>
<p>Amazon (auth_key_pair_amazon)</p>
</li>
<li>
<p>OpenStack (auth_key_pair_openstack)</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Availability Zones (availability_zone)</p>
<div class="ulist">
<ul>
<li>
<p>Amazon (availability_zone_amazon)</p>
</li>
<li>
<p>OpenStack (availability_zone_openstack)</p>
</li>
</ul>
</div>
</li>
<li>
<p>Classification (classification)</p>
</li>
<li>
<p>Cloud Networks (cloud_network)</p>
</li>
<li>
<p>Cloud Resource Quotas (cloud_resource_quota)</p>
<div class="ulist">
<ul>
<li>
<p>OpenStack (openstack_resource_quota)</p>
</li>
</ul>
</div>
</li>
<li>
<p>Cloud Subnets (cloud_subnet)</p>
</li>
<li>
<p>Cloud Tenants (cloud_tenant)</p>
</li>
<li>
<p>Customization Templates (customization_template)</p>
<div class="ulist">
<ul>
<li>
<p>Cloud Init (customization_template_cloud_init)</p>
</li>
<li>
<p>Kickstart (customization_template_kickstart)</p>
</li>
<li>
<p>Sysprep (customization_template_sysprep)</p>
</li>
</ul>
</div>
</li>
<li>
<p>Cluster (ems_cluster)</p>
</li>
<li>
<p>Event (ems_event)</p>
</li>
<li>
<p>Folder (ems_folder)</p>
</li>
<li>
<p>Providers (ext_management_system)</p>
<div class="ulist">
<ul>
<li>
<p>Cloud (ems_cloud)</p>
<div class="ulist">
<ul>
<li>
<p>Amazon (ems_amazon)</p>
</li>
<li>
<p>Openstack (ems_openstack)</p>
</li>
</ul>
</div>
</li>
<li>
<p>Infrastructure (ems_infra)</p>
<div class="ulist">
<ul>
<li>
<p>Microsoft System Center VMM (ems_microsoft)</p>
</li>
<li>
<p>Red Hat Enterprise Virtualization (ems_redhat)</p>
</li>
<li>
<p>VMware vCenter (ems_vmware)</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Filesystems (filesystem)</p>
</li>
<li>
<p>Firewall Rules (filewall_rule)</p>
</li>
<li>
<p>Flavors</p>
<div class="ulist">
<ul>
<li>
<p>Amazon (flavor_amazon)</p>
</li>
<li>
<p>OpenStack (flavor_openstack)</p>
</li>
</ul>
</div>
</li>
<li>
<p>Floating IPs (floating_ip)</p>
<div class="ulist">
<ul>
<li>
<p>Amazon (floating_ip_amazon)</p>
</li>
<li>
<p>OpenStack (floating_ip_openstack)</p>
</li>
</ul>
</div>
</li>
<li>
<p>Guest Applications (guest_application)</p>
</li>
<li>
<p>Guest Devices (guest_device)</p>
</li>
<li>
<p>Hardware (hardware)</p>
</li>
<li>
<p>Hosts (host)</p>
<div class="ulist">
<ul>
<li>
<p>Red Hat Enterprise Virtualization (host_redhat)</p>
</li>
<li>
<p>VMware (host_vmware)</p>
<div class="ulist">
<ul>
<li>
<p>VMware ESX (host_vmware_esx)</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>ISO Images (iso_image)</p>
</li>
<li>
<p>Jobs (job)</p>
</li>
<li>
<p>LANs (lan)</p>
</li>
<li>
<p>Groups (miq_group)</p>
</li>
<li>
<p>Policies (miq_policy)</p>
</li>
<li>
<p>Proxies (miq_proxy)</p>
</li>
<li>
<p>Requests (miq_request)</p>
<div class="ulist">
<ul>
<li>
<p>Automation (automation_request)</p>
</li>
<li>
<p>Host Provisioning (miq_host_provision_request)</p>
</li>
<li>
<p>VM Provisioning (miq_provision_request)</p>
<div class="ulist">
<ul>
<li>
<p>VM Templates (miq_provision_request_template)</p>
</li>
</ul>
</div>
</li>
<li>
<p>Service Reconfiguration (service_reconfigure_request)</p>
</li>
<li>
<p>Service Template Provisioning (service_template_provision_request)</p>
</li>
<li>
<p>VM Migration (vm_migrate_request)</p>
</li>
<li>
<p>VM Reconfiguration (vm_reconfigure_request)</p>
</li>
</ul>
</div>
</li>
<li>
<p>Request Task (miq_request_task)</p>
<div class="ulist">
<ul>
<li>
<p>Automation (automation_task)</p>
</li>
<li>
<p>Host Provisioning (miq_host_provision)</p>
</li>
<li>
<p>VM Provisioning (miq_provision)</p>
<div class="ulist">
<ul>
<li>
<p>Cloud (miq_provision_cloud)</p>
<div class="ulist">
<ul>
<li>
<p>Amazon (miq_provision_amazon)</p>
</li>
<li>
<p>OpenStack (miq_provision_openstack)</p>
</li>
</ul>
</div>
</li>
<li>
<p>Red Hat Enterprise Virtualization (miq_provision_redhat)</p>
<div class="ulist">
<ul>
<li>
<p>Via ISO (miq_provision_redhat_via_iso)</p>
</li>
<li>
<p>Via PXE (miq_provision_redhat_via_pxe)</p>
</li>
</ul>
</div>
</li>
<li>
<p>VMware (miq_provision_vmware)</p>
<div class="ulist">
<ul>
<li>
<p>Via NetApp RCU (miq_provision_vmware_via_net_app_rcu)</p>
</li>
<li>
<p>Via PXE (miq_provision_vmware_via_pxe)</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Service Reconfiguration (service_reconfigure_task)</p>
</li>
<li>
<p>Service Template Provisioning (service_template_provision_task)</p>
</li>
<li>
<p>VM Migratation (vm_migrate_task)</p>
</li>
<li>
<p>VM Reconfiguration (vm_reconfigure_task)</p>
</li>
</ul>
</div>
</li>
<li>
<p>Servers (miq_server)</p>
</li>
<li>
<p>Networks (network)</p>
</li>
<li>
<p>Operating Systems (operating_system)</p>
</li>
<li>
<p>PXE Images (pxe_image)</p>
<div class="ulist">
<ul>
<li>
<p>iPXE (pxe_image_ipxe)</p>
</li>
<li>
<p>PXELINUX (pxe_image_pxelinux)</p>
</li>
</ul>
</div>
</li>
<li>
<p>PXE Servers (pxe_server)</p>
</li>
<li>
<p>Resource Pools (resource_pool)</p>
</li>
<li>
<p>Security Groups (security_group)</p>
<div class="ulist">
<ul>
<li>
<p>Amazon (security_group_amazon)</p>
</li>
<li>
<p>OpenStack (security_group_openstack)</p>
</li>
</ul>
</div>
</li>
<li>
<p>Services (service)</p>
</li>
<li>
<p>Service Resources (service_resource)</p>
</li>
<li>
<p>Service Templates (service_template)</p>
</li>
<li>
<p>Snapshots (snapshot)</p>
</li>
<li>
<p>Storages (storage)</p>
</li>
<li>
<p>Switches (switch)</p>
</li>
<li>
<p>Users (user)</p>
</li>
<li>
<p>VMs or Templates (vm_or_template)</p>
<div class="ulist">
<ul>
<li>
<p>Templates (miq_template)</p>
<div class="ulist">
<ul>
<li>
<p>Cloud (template_cloud)</p>
<div class="ulist">
<ul>
<li>
<p>Amazon (template_amazon)</p>
</li>
<li>
<p>OpenStack (template_openstack)</p>
</li>
</ul>
</div>
</li>
<li>
<p>Infrastructure (template_infra)</p>
<div class="ulist">
<ul>
<li>
<p>Microsoft (template_microsoft)</p>
</li>
<li>
<p>Red Hat Enterprise Virtualization (template_redhat)</p>
</li>
<li>
<p>VMware (template_vmware)</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>VMs (vm)</p>
<div class="ulist">
<ul>
<li>
<p>Clouds (vm_cloud)</p>
<div class="ulist">
<ul>
<li>
<p>Amazon (vm_amazon)</p>
</li>
<li>
<p>OpenStack (vm_openstack)</p>
</li>
</ul>
</div>
</li>
<li>
<p>Infrastructure (vm_infra)</p>
<div class="ulist">
<ul>
<li>
<p>Microsoft (vm_microsoft)</p>
</li>
<li>
<p>Red Hat Enterprise Virtualization (vm_redhat)</p>
</li>
<li>
<p>Vmware (vm_vmware)</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Windows Images (windows_images)</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="base-methods"><a class="anchor" href="#base-methods"></a>1.3. Base Methods</h3>
<div class="paragraph">
<p>These methods may be used with all objects available in the Automate Model.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Method</th>
<th class="tableblock halign-left valign-top">Usage</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">inspect</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns a string containing a list of attributes of the object. See the InspectMe method in Samples class</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">inspect_all</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns all information for an object</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">virtual_column_names</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns the objects virtual columns names</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">virtual_columns_inspect</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns the objects virtual columns and values</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">reload</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns to original object to prevent the internal object from being returned</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">model_suffix</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns objects suffix. For an object of type MiqAeServiceVmVmware, returns "Vmware"</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">tagged_with?(category, name)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Is the object tagged with the category and name specified?</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">tags(category = nil)-- this means that category is an optional parameter, with a default of nil</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns the tags.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">tag_assign(tag)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Assigns tag to the object, except for the miq_provision object, which uses add_tag(category, tag_name)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">tag_unassign(tag)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Unassigns tag to the object, except for the miq_provision object, which uses clear_tag(category, tag_name)</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>The <strong>InspectMe</strong> <strong>Sample Method</strong> uses many of the Methods shown in this document.
The method returns attributes of the ManageIQ Server and then returns attributes for the host, cluster, and virtual machine from the provider of invocation.
In many environments it is linked to a button.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="ruby"><span style="color:#777">###################################</span>
<span style="color:#777"># EVM Automate Method: InspectMe</span>
<span style="color:#777">#</span>
<span style="color:#777"># Notes: Dump the objects in storage to the automation.log</span>
<span style="color:#777">#</span>
<span style="color:#777">###################################</span>
<span style="color:#080;font-weight:bold">begin</span>
  <span style="color:#33B">@method</span> = <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">InspectMe</span><span style="color:#710">'</span></span>
  <span style="color:#33B">@log_prefix</span> = <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">[</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span><span style="color:#33B">@method</span><span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20">]</span><span style="color:#710">&quot;</span></span>
  <span style="color:#d70">$evm</span>.log(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">info</span><span style="color:#710">&quot;</span></span>, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span><span style="color:#33B">@log_prefix</span><span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20"> - EVM Automate Method Started</span><span style="color:#710">&quot;</span></span>)

  <span style="color:#777"># Turn on verbose logging</span>
  <span style="color:#33B">@debug</span> = <span style="color:#069">true</span>



  <span style="color:#777"># List the types of object we will try to detect</span>
  obj_types = <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">%w{</span><span style="color:#D20"> vm host storage ems_cluster ext_management_system </span><span style="color:#710">}</span></span>
  obj_type = <span style="color:#d70">$evm</span>.root.attributes.detect { |k,v| obj_types.include?(k)}

  <span style="color:#777"># uncomment below to dump root object attributes</span>
  dumpRoot

  <span style="color:#777"># uncomment below to dump miq_server object attributes</span>
  dumpServer


  <span style="color:#777"># If obj_type is NOT nil</span>
  <span style="color:#080;font-weight:bold">unless</span> obj_type.nil?
    rootobj = obj_type.first
    obj = obj_type.second
    <span style="color:#d70">$evm</span>.log(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">info</span><span style="color:#710">&quot;</span></span>, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span><span style="color:#33B">@log_prefix</span><span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20"> - Detected Object:&lt;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>rootobj<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20">&gt;</span><span style="color:#710">&quot;</span></span>)
    <span style="color:#d70">$evm</span>.log(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">info</span><span style="color:#710">&quot;</span></span>,<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#710">&quot;</span></span>)

    <span style="color:#080;font-weight:bold">case</span> rootobj
    <span style="color:#080;font-weight:bold">when</span> <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">host</span><span style="color:#710">'</span></span> <span style="color:#080;font-weight:bold">then</span> dumpHost(obj)
    <span style="color:#080;font-weight:bold">when</span> <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">vm</span><span style="color:#710">'</span></span> <span style="color:#080;font-weight:bold">then</span> dumpVM(obj)
    <span style="color:#080;font-weight:bold">when</span> <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">ems_cluster</span><span style="color:#710">'</span></span> <span style="color:#080;font-weight:bold">then</span> dumpCluster(obj)
    <span style="color:#080;font-weight:bold">when</span> <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">ext_management_system</span><span style="color:#710">'</span></span> <span style="color:#080;font-weight:bold">then</span> dumpEMS(obj)
    <span style="color:#080;font-weight:bold">when</span> <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">storage</span><span style="color:#710">'</span></span> <span style="color:#080;font-weight:bold">then</span> dumpStorage(obj)
    <span style="color:#080;font-weight:bold">end</span>
  <span style="color:#080;font-weight:bold">end</span>

  <span style="color:#777">#</span>
  <span style="color:#777"># Exit method</span>
  <span style="color:#777">#</span>
  <span style="color:#d70">$evm</span>.log(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">info</span><span style="color:#710">&quot;</span></span>, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span><span style="color:#33B">@log_prefix</span><span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20"> - EVM Automate Method Ended</span><span style="color:#710">&quot;</span></span>)
  exit <span style="color:#036;font-weight:bold">MIQ_OK</span>

  <span style="color:#777">#</span>
  <span style="color:#777"># Set Ruby rescue behavior</span>
  <span style="color:#777">#</span>
<span style="color:#080;font-weight:bold">rescue</span> =&gt; err
  <span style="color:#d70">$evm</span>.log(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">error</span><span style="color:#710">&quot;</span></span>, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span><span style="color:#33B">@log_prefix</span><span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20"> - [</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>err<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20">]</span><span style="color:#b0b">\n</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>err.backtrace.join(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#b0b">\n</span><span style="color:#710">&quot;</span></span>)<span style="font-weight:bold;color:#666">}</span></span><span style="color:#710">&quot;</span></span>)
  exit <span style="color:#036;font-weight:bold">MIQ_ABORT</span>
<span style="color:#080;font-weight:bold">end</span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="availability-zones-availability_zone"><a class="anchor" href="#availability-zones-availability_zone"></a>1.4. Availability Zones (availability_zone)</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Method</th>
<th class="tableblock halign-left valign-top">Use</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ext_management_system</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns object&#8217;s Management System</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">vms</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns object&#8217;s VMs</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">vms_and_templates</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns object&#8217;s VMs and templates</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">cloud_subnets</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns object&#8217;s cloud subnets</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="classifications-classification"><a class="anchor" href="#classifications-classification"></a>1.5. Classifications (classification)</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Method</th>
<th class="tableblock halign-left valign-top">Use</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">parent</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns object&#8217;s parent object</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">namespace</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns object&#8217;s namespace</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">category</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns object&#8217;s category</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">name</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns object&#8217;s name</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">to_tag</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns object&#8217;s tag mapping</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="cloud-networks-cloud_network"><a class="anchor" href="#cloud-networks-cloud_network"></a>1.6. Cloud Networks (cloud_network)</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Method</th>
<th class="tableblock halign-left valign-top">Use</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ext_management_system</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns object&#8217;s Management System</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">cloud_tenant</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns object&#8217;s cloud tenant</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">cloud_subnets</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns object&#8217;s cloud subnets</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">security_groups</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns object&#8217;s security groups</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">vms</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns object&#8217;s VMs</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="cloud-resource-quotas-cloud_resource_quota"><a class="anchor" href="#cloud-resource-quotas-cloud_resource_quota"></a>1.7. Cloud Resource Quotas (cloud_resource_quota)</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Method</th>
<th class="tableblock halign-left valign-top">Use</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ext_management_system</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns object&#8217;s Management System</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">cloud_tenant</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns object&#8217;s cloud tenant</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="cloud-subnets-cloud_subnet"><a class="anchor" href="#cloud-subnets-cloud_subnet"></a>1.8. Cloud Subnets (cloud_subnet)</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Method</th>
<th class="tableblock halign-left valign-top">Use</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">cloud_network</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns object&#8217;s cloud network</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">availability_zone</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns object&#8217;s availability zone</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">vms</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns object&#8217;s VMs</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="cloud-tenants-cloud_tenant"><a class="anchor" href="#cloud-tenants-cloud_tenant"></a>1.9. Cloud Tenants (cloud_tenant)</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Method</th>
<th class="tableblock halign-left valign-top">Use</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ext_management_system</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns object&#8217;s Management System</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">security_groups</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns object&#8217;s security groups</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">cloud_networks</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns object&#8217;s cloud network</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">vms</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns object&#8217;s VMs</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">vms_and_templates</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns object&#8217;s VMs and templates</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">miq_templates</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns object&#8217;s templates</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">floating_ips</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns object&#8217;s floating IP addresses</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">cloud_resource_quotas</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns object&#8217;s quotas</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_customization_template"><a class="anchor" href="#_customization_template"></a>1.10. Customization Template (customization_template)</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Method</th>
<th class="tableblock halign-left valign-top">Use</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pxe_images</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns customization templates pxe images</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_sect_clusters_ems_cluster"><a class="anchor" href="#_sect_clusters_ems_cluster"></a>1.11. Clusters (ems_cluster)</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Method</th>
<th class="tableblock halign-left valign-top">Use</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">all_resource_pools</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Return all of the objects Resource Pools</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">all_vms</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Return all of the objects Virtual Machines</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">default_resource_pool</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Return the objects default Resource Pool</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ems_events</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns an array of EmsEvent records associated with the object</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ext_management_system</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Return objects Management System</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">hosts</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Return objects Hosts</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">parent_folder</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Return objects Parent Folder</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">register_host(host)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Register Host to this Cluster</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">resource_pools</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Return objects Resource Pools</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">storages</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Return objects datastores</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">vms</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Return objects Virtual Machines</p></td>
</tr>
</tbody>
</table>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="ruby">  <span style="color:#777">#########################</span>
  <span style="color:#777">#</span>
  <span style="color:#777"># Method: dumpCluster</span>
  <span style="color:#777"># Inputs: $evm.root['ems_cluster']</span>
  <span style="color:#777"># Description: Dump Cluster information</span>
  <span style="color:#777">#</span>
  <span style="color:#777">##########################</span>
  <span style="color:#080;font-weight:bold">def</span> <span style="color:#06B;font-weight:bold">dumpCluster</span>(cluster)
    <span style="color:#d70">$evm</span>.log(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">info</span><span style="color:#710">&quot;</span></span>,<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span><span style="color:#33B">@log_prefix</span><span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20"> - Cluster:&lt;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>cluster.name<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20">&gt; Begin Attributes</span><span style="color:#710">&quot;</span></span>)
    cluster.attributes.sort.each { |k, v| <span style="color:#d70">$evm</span>.log(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">info</span><span style="color:#710">&quot;</span></span>, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span><span style="color:#33B">@log_prefix</span><span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20"> - Cluster:&lt;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>cluster.name<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20">&gt; Attributes - </span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>k<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20">: </span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>v.inspect<span style="font-weight:bold;color:#666">}</span></span><span style="color:#710">&quot;</span></span>)}
    <span style="color:#d70">$evm</span>.log(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">info</span><span style="color:#710">&quot;</span></span>,<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span><span style="color:#33B">@log_prefix</span><span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20"> - Cluster:&lt;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>cluster.name<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20">&gt; End Attributes</span><span style="color:#710">&quot;</span></span>)
    <span style="color:#d70">$evm</span>.log(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">info</span><span style="color:#710">&quot;</span></span>,<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#710">&quot;</span></span>)

    <span style="color:#d70">$evm</span>.log(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">info</span><span style="color:#710">&quot;</span></span>,<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span><span style="color:#33B">@log_prefix</span><span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20"> - Cluster:&lt;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>cluster.name<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20">&gt; Begin Associations</span><span style="color:#710">&quot;</span></span>)
    cluster.associations.sort.each { |assc| <span style="color:#d70">$evm</span>.log(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">info</span><span style="color:#710">&quot;</span></span>, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span><span style="color:#33B">@log_prefix</span><span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20"> - Cluster:&lt;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>cluster.name<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20">&gt; Associations - </span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>assc<span style="font-weight:bold;color:#666">}</span></span><span style="color:#710">&quot;</span></span>)}
    <span style="color:#d70">$evm</span>.log(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">info</span><span style="color:#710">&quot;</span></span>,<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span><span style="color:#33B">@log_prefix</span><span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20"> - Cluster:&lt;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>cluster.name<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20">&gt; End Associations</span><span style="color:#710">&quot;</span></span>)
    <span style="color:#d70">$evm</span>.log(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">info</span><span style="color:#710">&quot;</span></span>,<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#710">&quot;</span></span>)

    <span style="color:#d70">$evm</span>.log(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">info</span><span style="color:#710">&quot;</span></span>,<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span><span style="color:#33B">@log_prefix</span><span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20"> - Cluster:&lt;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>cluster.name<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20">&gt; Begin Virtual Columns</span><span style="color:#710">&quot;</span></span>)
    cluster.virtual_column_names.sort.each { |vcn| <span style="color:#d70">$evm</span>.log(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">info</span><span style="color:#710">&quot;</span></span>, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span><span style="color:#33B">@log_prefix</span><span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20"> - Cluster:&lt;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>cluster.name<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20">&gt; Virtual Columns - </span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>vcn<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20">: </span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>cluster.send(vcn)<span style="font-weight:bold;color:#666">}</span></span><span style="color:#710">&quot;</span></span>)}
    <span style="color:#d70">$evm</span>.log(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">info</span><span style="color:#710">&quot;</span></span>,<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span><span style="color:#33B">@log_prefix</span><span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20"> - Cluster:&lt;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>cluster.name<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20">&gt; End Virtual Columns</span><span style="color:#710">&quot;</span></span>)
    <span style="color:#d70">$evm</span>.log(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">info</span><span style="color:#710">&quot;</span></span>,<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#710">&quot;</span></span>)
  <span style="color:#080;font-weight:bold">end</span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="management-system-events-ems_event"><a class="anchor" href="#management-system-events-ems_event"></a>1.12. Management System Events (ems_event)</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Method</th>
<th class="tableblock halign-left valign-top">Use</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ext_management_system</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns object&#8217;s provider</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ems</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Shortcut to ext_management_system</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">src_vm</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Source VM for the event</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">vm</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">VM for the event</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">src_host</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Source Host for the event</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">host</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Host for the event</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">dest_vm</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Destination VM for the event</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">service</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Service for the event</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">dest_host</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Destination Host for the event</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">refresh(*targets)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Refresh the target types specified (ems, vm, host, src_vm, src_host, dest_vm, or dest_host)</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="management-system-folders-ems_folder"><a class="anchor" href="#management-system-folders-ems_folder"></a>1.13. Management System Folders (ems_folder)</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Method</th>
<th class="tableblock halign-left valign-top">Use</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">hosts</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns hosts that are in the folder</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">vms</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns VMs that are in folder</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">register_host(host)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Registers specified host to the folder</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">folder_path(*options)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns folders path</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_sect_providers_ext_management_system"><a class="anchor" href="#_sect_providers_ext_management_system"></a>1.14. Providers (ext_management_system)</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Method</th>
<th class="tableblock halign-left valign-top">Use</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">authentication_password_encrypted</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns credentials password encrypted</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">authentication_password</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns credentials password unencrypted</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">authentication_userid</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns credentials user id</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ems_clusters</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns objects clusters</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ems_events</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns an array of EmsEvent records associated with the object</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ems_folders</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns objects folders</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">hosts</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns objects hosts</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">refresh</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Refreshes relationships and power states for objects related to the object</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">resource_pools</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns objects resource pools</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">storages</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns objects storages</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">vms</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns objects vms</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">to_s</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Converts object to string</p></td>
</tr>
</tbody>
</table>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="ruby">  <span style="color:#777">#########################</span>
  <span style="color:#777">#</span>
  <span style="color:#777"># Method: dumpEMS</span>
  <span style="color:#777"># Inputs: $evm.root['ext_management_system']</span>
  <span style="color:#777"># Description: Dump EMS information</span>
  <span style="color:#777">#</span>
  <span style="color:#777">##########################</span>
  <span style="color:#080;font-weight:bold">def</span> <span style="color:#06B;font-weight:bold">dumpEMS</span>(ems)
    <span style="color:#d70">$evm</span>.log(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">info</span><span style="color:#710">&quot;</span></span>,<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span><span style="color:#33B">@log_prefix</span><span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20"> - EMS:&lt;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>ems.name<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20">&gt; Begin Attributes</span><span style="color:#710">&quot;</span></span>)
    ems.attributes.sort.each { |k, v| <span style="color:#d70">$evm</span>.log(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">info</span><span style="color:#710">&quot;</span></span>, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span><span style="color:#33B">@log_prefix</span><span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20"> - EMS:&lt;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>ems.name<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20">&gt; Attributes - </span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>k<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20">: </span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>v.inspect<span style="font-weight:bold;color:#666">}</span></span><span style="color:#710">&quot;</span></span>)}
    <span style="color:#d70">$evm</span>.log(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">info</span><span style="color:#710">&quot;</span></span>,<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span><span style="color:#33B">@log_prefix</span><span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20"> - EMS:&lt;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>ems.name<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20">&gt; End Attributes</span><span style="color:#710">&quot;</span></span>)
    <span style="color:#d70">$evm</span>.log(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">info</span><span style="color:#710">&quot;</span></span>,<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#710">&quot;</span></span>)

    <span style="color:#d70">$evm</span>.log(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">info</span><span style="color:#710">&quot;</span></span>,<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span><span style="color:#33B">@log_prefix</span><span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20"> - EMS:&lt;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>ems.name<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20">&gt; Begin Associations</span><span style="color:#710">&quot;</span></span>)
    ems.associations.sort.each { |assc| <span style="color:#d70">$evm</span>.log(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">info</span><span style="color:#710">&quot;</span></span>, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span><span style="color:#33B">@log_prefix</span><span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20"> - EMS:&lt;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>ems.name<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20">&gt; Associations - </span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>assc<span style="font-weight:bold;color:#666">}</span></span><span style="color:#710">&quot;</span></span>)}
    <span style="color:#d70">$evm</span>.log(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">info</span><span style="color:#710">&quot;</span></span>,<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span><span style="color:#33B">@log_prefix</span><span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20"> - EMS:&lt;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>ems.name<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20">&gt; End Associations</span><span style="color:#710">&quot;</span></span>)
    <span style="color:#d70">$evm</span>.log(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">info</span><span style="color:#710">&quot;</span></span>,<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#710">&quot;</span></span>)

    <span style="color:#d70">$evm</span>.log(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">info</span><span style="color:#710">&quot;</span></span>,<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span><span style="color:#33B">@log_prefix</span><span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20"> - EMS:&lt;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>ems.name<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20">&gt; Begin EMS Folders</span><span style="color:#710">&quot;</span></span>)
    ems.ems_folders.each { |ef| ef.attributes.sort.each { |k,v| <span style="color:#d70">$evm</span>.log(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">info</span><span style="color:#710">&quot;</span></span>, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span><span style="color:#33B">@log_prefix</span><span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20"> - EMS:&lt;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>ems.name<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20">&gt; EMS Folder:&lt;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>ef.name<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20">&gt; </span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>k<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20">: </span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>v.inspect<span style="font-weight:bold;color:#666">}</span></span><span style="color:#710">&quot;</span></span>)}}
    <span style="color:#d70">$evm</span>.log(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">info</span><span style="color:#710">&quot;</span></span>,<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span><span style="color:#33B">@log_prefix</span><span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20"> - EMS:&lt;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>ems.name<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20">&gt; End EMS Folders</span><span style="color:#710">&quot;</span></span>)
    <span style="color:#d70">$evm</span>.log(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">info</span><span style="color:#710">&quot;</span></span>,<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#710">&quot;</span></span>)

    <span style="color:#d70">$evm</span>.log(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">info</span><span style="color:#710">&quot;</span></span>,<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span><span style="color:#33B">@log_prefix</span><span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20"> - EMS:&lt;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>ems.name<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20">&gt; Begin Virtual Columns</span><span style="color:#710">&quot;</span></span>)
    ems.virtual_column_names.sort.each { |vcn| <span style="color:#d70">$evm</span>.log(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">info</span><span style="color:#710">&quot;</span></span>, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span><span style="color:#33B">@log_prefix</span><span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20"> - EMS:&lt;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>ems.name<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20">&gt; Virtual Columns - </span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>vcn<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20">: </span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>ems.send(vcn)<span style="font-weight:bold;color:#666">}</span></span><span style="color:#710">&quot;</span></span>)}
    <span style="color:#d70">$evm</span>.log(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">info</span><span style="color:#710">&quot;</span></span>,<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span><span style="color:#33B">@log_prefix</span><span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20"> - EMS:&lt;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>ems.name<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20">&gt; End Virtual Columns</span><span style="color:#710">&quot;</span></span>)
    <span style="color:#d70">$evm</span>.log(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">info</span><span style="color:#710">&quot;</span></span>,<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#710">&quot;</span></span>)
  <span style="color:#080;font-weight:bold">end</span></code></pre>
</div>
</div>
<div class="sect3">
<h4 id="cloud-providers-ems_cloud"><a class="anchor" href="#cloud-providers-ems_cloud"></a>1.14.1. Cloud Providers (ems_cloud)</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Method</th>
<th class="tableblock halign-left valign-top">Use</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">availability_zones</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Return the provider&#8217;s availability zones</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">cloud_networks</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Return the provider&#8217;s available networks</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">cloud_tenants</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Return the provider&#8217;s available tenants</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">flavors</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Return the provider&#8217;s hardware flavors</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">floating_ips</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Return the provider&#8217;s floating IP addresses</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">key_pairs</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Return the provider&#8217;s key pairs</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">security_groups</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Return the provider&#8217;s security groups</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">cloud_resource_quotas</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Return the provider&#8217;s resource quotas</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect2">
<h3 id="firewall-rules-firewall_rule"><a class="anchor" href="#firewall-rules-firewall_rule"></a>1.15. Firewall Rules (firewall_rule)</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Method</th>
<th class="tableblock halign-left valign-top">Use</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">resource</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Return object&#8217;s resource</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">source_security_group</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Return object&#8217;s source security group</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="flavors-flavor"><a class="anchor" href="#flavors-flavor"></a>1.16. Flavors (flavor)</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Method</th>
<th class="tableblock halign-left valign-top">Use</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ext_management_system</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns object&#8217;s Management System</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">vms</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns object&#8217;s VMs</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="floating-ips-floating_ip"><a class="anchor" href="#floating-ips-floating_ip"></a>1.17. Floating IPs (floating_ip)</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Method</th>
<th class="tableblock halign-left valign-top">Use</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ext_management_system</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns object&#8217;s Management System</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">vm</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns object&#8217;s VMs</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">cloud_tenant</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns object&#8217;s cloud tenant</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="guest-applications-guest_application"><a class="anchor" href="#guest-applications-guest_application"></a>1.18. Guest Applications (guest_application)</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Method</th>
<th class="tableblock halign-left valign-top">Use</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">vm</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns objects VM</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">host</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns objects Host</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="guest-device-guest_device"><a class="anchor" href="#guest-device-guest_device"></a>1.19. Guest Device (guest_device)</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Method</th>
<th class="tableblock halign-left valign-top">Use</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">hardware</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns objects hardware</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">switch</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns objects switch</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">lan</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns objects LAN</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">network</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns objects network</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="hardware-hardware"><a class="anchor" href="#hardware-hardware"></a>1.20. Hardware (hardware)</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Method</th>
<th class="tableblock halign-left valign-top">Use</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ipaddresses</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns objects IP addresses</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">guest_devices</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns objects guest devices</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">storage_adapters</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns objects storage adapters</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">nics</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns objects nics</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ports</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns objects ports</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">vm</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns objects Virtual Machine</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">host</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns objects Host</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">mac_addresses</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns objects MAC addresses</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_sect_hosts_host"><a class="anchor" href="#_sect_hosts_host"></a>1.21. Hosts (host)</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Method</th>
<th class="tableblock halign-left valign-top">Use</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">authentication_password</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns credential password</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">authentication_userid</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns credential user</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">datacenter</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns datacenter</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">directories</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns list of directories for the object</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">domain</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns the domain portion of the hostname</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ems_cluster</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns cluster</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ems_events</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns an array of EmsEvent records associated with the object</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ems_folder</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns hosts folder on Management System</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">event_log_threshold?(options)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Searches event log records to determine if an event has occurred x number of times within a defined time frame. Returns true if the number of matching records found are greater or equal to the specified freq_threshold, otherwise it returns false</p>
<p class="tableblock">								Options values:</p>
<p class="tableblock">								:message_filter_type - Must be one of "STARTS WITH", "ENDS WITH", "INCLUDES", "REGULAR EXPRESSION"</p>
<p class="tableblock">								:message_filter_value - &lt;string value to search for&gt;</p>
<p class="tableblock">								:time_threshold - Options time interval to search. Example: 2.days (Search the past 2 days of event logs) Default 10.days</p>
<p class="tableblock">								:freq_threshold - Number of occurrences to check for. Default = 2</p>
<p class="tableblock">								:source, :event_id, :level, :name - Options filter values</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ext_management_system</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns Management System</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">files</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns list of files for the object</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">guest_applications</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns Guest Applications</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">hardware</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns hardware</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">lans</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns LANs</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">operating_system</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns Operating System</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">storages</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns datastores</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">switches</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns network switches</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">vms</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns VMs.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">credentials(type = :remote)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns credentials for a Host for the specified type as an array for username/pwd. (Default type is :remote if no type is specified.)</p>
<p class="tableblock">								Supports 4 different types of credentials:</p>
<p class="tableblock">								:default = Default</p>
<p class="tableblock">								:remote = Remote Login (think SSH for ESX)</p>
<p class="tableblock">								:ws = Web Services</p>
<p class="tableblock">								:ipmi = IPMI</p>
<p class="tableblock">								Example 1:</p>
<p class="tableblock">								cred = host.credentials</p>
<p class="tableblock">								cred &#8658; ["user", "pwd"]</p>
<p class="tableblock">								Example 2:</p>
<p class="tableblock">								user_str, pwd_str = host.credentials(:ipmi)</p>
<p class="tableblock">								user_str &#8658; "user"</p>
<p class="tableblock">								pwd_str &#8658; "pwd"</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ems_custom_keys</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns Management Systems custom keys</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ems_custom_get(key)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Gets Value for specified Management Systems custom key</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ems_custom_set(attribute, value)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sets value for specified custom key of the Management System</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">custom_keys</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Lists ManageIQ Server custom keys</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">custom_get(key)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Gets value for specified ManageIQ Server custom key</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">custom_set(key, value)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sets value for specified ManageIQ Server custom key</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ssh_exec(script)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Runs the specified script on the host</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">get_realtime_metric(metric, range, function)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns specified realtime metric</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">current_memory_usage</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns current memory usage</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">current_cpu_usage</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns current cpu usage</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">current_memory_headroom</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns current memory headroom</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">to_s</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Converts object to string</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">scan</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Performs SmartState Analysis on the object</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>The following table lists the metric types available for the <code>get_realtime_metric(metric, range, function)</code> method for hosts.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Metric</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">v_derived_storage_used</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Capacity - Used space in bytes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">v_pct_cpu_ready_delta_summation</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CPU - Percentage ready</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">v_pct_cpu_wait_delta_summation</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CPU - Percentage wait</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">v_pct_cpu_used_delta_summation</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CPU - Percentage used</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">v_derived_host_count</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">State - Number of hosts (Hourly Count / Daily Average)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">v_derived_cpu_reserved_pct</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CPU - Percentage available</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">v_derived_memory_reserved_pct</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Memory - Percentage available</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>The following Ruby snippet demonstrates using the <code>get_realtime_metric(metric, range, function)</code> method using the <code>v_pct_cpu_ready_delta_summation</code> metric.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="ruby">host = <span style="color:#d70">$evm</span>.root[<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">host</span><span style="color:#710">'</span></span>]
cpu_rdy = host.get_realtime_metric(<span style="color:#A60">:v_pct_cpu_ready_delta_summation</span>, [<span style="color:#00D">15</span>.minutes.ago.utc,<span style="color:#00D">5</span>.minutes.ago.utc], <span style="color:#A60">:avg</span>)</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="ruby"><span style="color:#777">#########################</span>
  <span style="color:#777">#</span>
  <span style="color:#777"># Method: dumpHost</span>
  <span style="color:#777"># Inputs: $evm.root['host']</span>
  <span style="color:#777"># Description: Dump Host information</span>
  <span style="color:#777">#</span>
  <span style="color:#777">##########################</span>
  <span style="color:#080;font-weight:bold">def</span> <span style="color:#06B;font-weight:bold">dumpHost</span>(host)
    host = <span style="color:#d70">$evm</span>.object[<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">host</span><span style="color:#710">'</span></span>] || <span style="color:#d70">$evm</span>.root[<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">host</span><span style="color:#710">'</span></span>]
    <span style="color:#d70">$evm</span>.log(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">info</span><span style="color:#710">&quot;</span></span>,<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span><span style="color:#33B">@log_prefix</span><span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20"> - Host:&lt;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>host.name<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20">&gt; Begin Attributes</span><span style="color:#710">&quot;</span></span>)
    host.attributes.sort.each { |k, v| <span style="color:#d70">$evm</span>.log(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">info</span><span style="color:#710">&quot;</span></span>, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span><span style="color:#33B">@log_prefix</span><span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20"> - Host:&lt;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>host.name<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20">&gt; Attributes - </span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>k<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20">: </span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>v.inspect<span style="font-weight:bold;color:#666">}</span></span><span style="color:#710">&quot;</span></span>)}
    <span style="color:#d70">$evm</span>.log(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">info</span><span style="color:#710">&quot;</span></span>,<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span><span style="color:#33B">@log_prefix</span><span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20"> - Host:&lt;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>host.name<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20">&gt; End Attributes</span><span style="color:#710">&quot;</span></span>)
    <span style="color:#d70">$evm</span>.log(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">info</span><span style="color:#710">&quot;</span></span>,<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#710">&quot;</span></span>)

    <span style="color:#d70">$evm</span>.log(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">info</span><span style="color:#710">&quot;</span></span>,<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span><span style="color:#33B">@log_prefix</span><span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20"> - Host:&lt;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>host.name<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20">&gt; Begin Associations</span><span style="color:#710">&quot;</span></span>)
    host.associations.sort.each { |assc| <span style="color:#d70">$evm</span>.log(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">info</span><span style="color:#710">&quot;</span></span>, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span><span style="color:#33B">@log_prefix</span><span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20"> - Host:&lt;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>host.name<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20">&gt; Associations - </span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>assc<span style="font-weight:bold;color:#666">}</span></span><span style="color:#710">&quot;</span></span>)}
    <span style="color:#d70">$evm</span>.log(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">info</span><span style="color:#710">&quot;</span></span>,<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span><span style="color:#33B">@log_prefix</span><span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20"> - Host:&lt;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>host.name<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20">&gt; End Associations</span><span style="color:#710">&quot;</span></span>)
    <span style="color:#d70">$evm</span>.log(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">info</span><span style="color:#710">&quot;</span></span>,<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#710">&quot;</span></span>)

    <span style="color:#d70">$evm</span>.log(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">info</span><span style="color:#710">&quot;</span></span>,<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span><span style="color:#33B">@log_prefix</span><span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20"> - Host:&lt;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>host.name<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20">&gt; Begin Hardware</span><span style="color:#710">&quot;</span></span>)
    host.hardware.attributes.each { |k,v| <span style="color:#d70">$evm</span>.log(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">info</span><span style="color:#710">&quot;</span></span>, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span><span style="color:#33B">@log_prefix</span><span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20"> - Host:&lt;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>host.name<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20">&gt; Hardware - </span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>k<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20">: </span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>v.inspect<span style="font-weight:bold;color:#666">}</span></span><span style="color:#710">&quot;</span></span>)}
    <span style="color:#d70">$evm</span>.log(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">info</span><span style="color:#710">&quot;</span></span>,<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span><span style="color:#33B">@log_prefix</span><span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20"> - Host:&lt;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>host.name<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20">&gt; End Hardware</span><span style="color:#710">&quot;</span></span>)
    <span style="color:#d70">$evm</span>.log(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">info</span><span style="color:#710">&quot;</span></span>,<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#710">&quot;</span></span>)

    <span style="color:#d70">$evm</span>.log(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">info</span><span style="color:#710">&quot;</span></span>,<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span><span style="color:#33B">@log_prefix</span><span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20"> - Host:&lt;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>host.name<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20">&gt; Begin Lans</span><span style="color:#710">&quot;</span></span>)
    host.lans.each { |lan| lan.attributes.sort.each { |k,v| <span style="color:#d70">$evm</span>.log(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">info</span><span style="color:#710">&quot;</span></span>, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span><span style="color:#33B">@log_prefix</span><span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20"> - Host:&lt;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>host.name<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20">&gt; Lan:&lt;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>lan.name<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20">&gt; - </span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>k<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20">: </span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>v.inspect<span style="font-weight:bold;color:#666">}</span></span><span style="color:#710">&quot;</span></span>)}}
    <span style="color:#d70">$evm</span>.log(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">info</span><span style="color:#710">&quot;</span></span>,<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span><span style="color:#33B">@log_prefix</span><span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20"> - Host:&lt;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>host.name<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20">&gt; End Lans</span><span style="color:#710">&quot;</span></span>)
    <span style="color:#d70">$evm</span>.log(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">info</span><span style="color:#710">&quot;</span></span>,<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#710">&quot;</span></span>)

    <span style="color:#d70">$evm</span>.log(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">info</span><span style="color:#710">&quot;</span></span>,<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span><span style="color:#33B">@log_prefix</span><span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20"> - Host:&lt;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>host.name<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20">&gt; Begin Switches</span><span style="color:#710">&quot;</span></span>)
    host.switches.each { |switch| switch.attributes.sort.each { |k,v| <span style="color:#d70">$evm</span>.log(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">info</span><span style="color:#710">&quot;</span></span>, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span><span style="color:#33B">@log_prefix</span><span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20"> - Host:&lt;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>host.name<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20">&gt; Swtiche:&lt;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>switch.name<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20">&gt; - </span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>k<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20">: </span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>v.inspect<span style="font-weight:bold;color:#666">}</span></span><span style="color:#710">&quot;</span></span>)}}
    <span style="color:#d70">$evm</span>.log(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">info</span><span style="color:#710">&quot;</span></span>,<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span><span style="color:#33B">@log_prefix</span><span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20"> - Host:&lt;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>host.name<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20">&gt; End Switches</span><span style="color:#710">&quot;</span></span>)
    <span style="color:#d70">$evm</span>.log(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">info</span><span style="color:#710">&quot;</span></span>,<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#710">&quot;</span></span>)

    <span style="color:#d70">$evm</span>.log(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">info</span><span style="color:#710">&quot;</span></span>,<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span><span style="color:#33B">@log_prefix</span><span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20"> - Host:&lt;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>host.name<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20">&gt; Begin Operating System</span><span style="color:#710">&quot;</span></span>)
    host.operating_system.attributes.sort.each { |k, v| <span style="color:#d70">$evm</span>.log(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">info</span><span style="color:#710">&quot;</span></span>, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span><span style="color:#33B">@log_prefix</span><span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20"> - Host:&lt;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>host.name<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20">&gt; Operating System - </span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>k<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20">: </span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>v.inspect<span style="font-weight:bold;color:#666">}</span></span><span style="color:#710">&quot;</span></span>)}
    <span style="color:#d70">$evm</span>.log(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">info</span><span style="color:#710">&quot;</span></span>,<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span><span style="color:#33B">@log_prefix</span><span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20"> - Host:&lt;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>host.name<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20">&gt; End Operating System</span><span style="color:#710">&quot;</span></span>)
    <span style="color:#d70">$evm</span>.log(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">info</span><span style="color:#710">&quot;</span></span>,<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#710">&quot;</span></span>)

    <span style="color:#d70">$evm</span>.log(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">info</span><span style="color:#710">&quot;</span></span>,<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span><span style="color:#33B">@log_prefix</span><span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20"> - Host:&lt;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>host.name<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20">&gt; Begin Guest Applications</span><span style="color:#710">&quot;</span></span>)
    host.guest_applications.each { |guest_app| guest_app.attributes.sort.each { |k, v| <span style="color:#d70">$evm</span>.log(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">info</span><span style="color:#710">&quot;</span></span>, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span><span style="color:#33B">@log_prefix</span><span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20"> - Host:&lt;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>host.name<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20">&gt; Guest Application:&lt;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>guest_app.name<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20">&gt; - </span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>k<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20">: </span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>v.inspect<span style="font-weight:bold;color:#666">}</span></span><span style="color:#710">&quot;</span></span>)}}
    <span style="color:#d70">$evm</span>.log(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">info</span><span style="color:#710">&quot;</span></span>,<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span><span style="color:#33B">@log_prefix</span><span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20"> - Host:&lt;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>host.name<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20">&gt; End Guest Applications</span><span style="color:#710">&quot;</span></span>)
    <span style="color:#d70">$evm</span>.log(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">info</span><span style="color:#710">&quot;</span></span>,<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#710">&quot;</span></span>)

    <span style="color:#d70">$evm</span>.log(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">info</span><span style="color:#710">&quot;</span></span>,<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span><span style="color:#33B">@log_prefix</span><span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20"> - Host:&lt;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>host.name<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20">&gt; Begin Virtual Columns</span><span style="color:#710">&quot;</span></span>)
    host.virtual_column_names.sort.each { |vcn| <span style="color:#d70">$evm</span>.log(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">info</span><span style="color:#710">&quot;</span></span>, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span><span style="color:#33B">@log_prefix</span><span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20"> - Host:&lt;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>host.name<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20">&gt; Virtual Columns - </span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>vcn<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20">: </span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>host.send(vcn).inspect<span style="font-weight:bold;color:#666">}</span></span><span style="color:#710">&quot;</span></span>)}
    <span style="color:#d70">$evm</span>.log(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">info</span><span style="color:#710">&quot;</span></span>,<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span><span style="color:#33B">@log_prefix</span><span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20"> - Host:&lt;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>host.name<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20">&gt; End Virtual Columns</span><span style="color:#710">&quot;</span></span>)
    <span style="color:#d70">$evm</span>.log(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">info</span><span style="color:#710">&quot;</span></span>, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#710">&quot;</span></span>)
  <span style="color:#080;font-weight:bold">end</span></code></pre>
</div>
</div>
<div class="sect3">
<h4 id="hosts:-vmware-esx-host_vmware_esx"><a class="anchor" href="#hosts:-vmware-esx-host_vmware_esx"></a>1.21.1. Hosts: Vmware ESX (host_vmware_esx)</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Method</th>
<th class="tableblock halign-left valign-top">Use</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">disable_vmotion(device = nil)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Disable vMotion</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">enable_vmotion(device = nil)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enable vMotion</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">enter_maintenance_mode(timeout = 0, evacuate = false)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Put Host in Maintenance Mode</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">exit_maintenance_mode(timeout = 0)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Leave Maintenance Mode</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">in_maintenance_mode?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Check to see if the host is in Maintenance Mode</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">power_down_to_standby(timeout = 0, evacuate = false)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Put Host in standby</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">power_up_from_standby(timeout = 0)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Take Host out of standby</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">reboot(force = false)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Reboot Host</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">shutdown(force = false)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Shutdown Host</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">vmotion_enabled?(device = nil)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Check to see if vMotion is enabled</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect2">
<h3 id="lan-lan"><a class="anchor" href="#lan-lan"></a>1.22. LAN (lan)</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Method</th>
<th class="tableblock halign-left valign-top">Use</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">switch</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns objects switch</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">guest_devices</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns objects guest devices</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">vms</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns objects Virtual Machines</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">templates</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns objects templates</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">hosts</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns objects Hosts</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_sect_groups_miq_group"><a class="anchor" href="#_sect_groups_miq_group"></a>1.23. Groups (miq_group)</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Method</th>
<th class="tableblock halign-left valign-top">Use</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">users</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns users in the current miq_group</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">vms</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns Virtual Machines that this group owns</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">custom_keys</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns all custom keys for the group</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">custom_get(key)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns the value of the specified custom key for the group</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">custom_set(key, value)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sets the value for the specified key</p></td>
</tr>
</tbody>
</table>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="ruby">  <span style="color:#777">#########################</span>
  <span style="color:#777">#</span>
  <span style="color:#777"># Method: dumpGroup</span>
  <span style="color:#777"># Inputs: $evm.root['user'].miq_group</span>
  <span style="color:#777"># Description: Dump User's Group information</span>
  <span style="color:#777">#</span>
  <span style="color:#777">##########################</span>
  <span style="color:#080;font-weight:bold">def</span> <span style="color:#06B;font-weight:bold">dumpGroup</span>
    user = <span style="color:#d70">$evm</span>.root[<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">user</span><span style="color:#710">'</span></span>]
    <span style="color:#080;font-weight:bold">unless</span> user.nil?
      miq_group = user.miq_group
      <span style="color:#080;font-weight:bold">unless</span> miq_group.nil?
        <span style="color:#d70">$evm</span>.log(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">info</span><span style="color:#710">&quot;</span></span>,<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span><span style="color:#33B">@method</span><span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20"> - Group:&lt;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>miq_group.description<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20">&gt; Begin Attributes [miq_group.attributes]</span><span style="color:#710">&quot;</span></span>)
        miq_group.attributes.sort.each { |k, v| <span style="color:#d70">$evm</span>.log(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">info</span><span style="color:#710">&quot;</span></span>, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span><span style="color:#33B">@method</span><span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20"> - Group:&lt;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>miq_group.description<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20">&gt; Attributes - </span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>k<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20">: </span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>v.inspect<span style="font-weight:bold;color:#666">}</span></span><span style="color:#710">&quot;</span></span>)} <span style="color:#080;font-weight:bold">unless</span> <span style="color:#d70">$evm</span>.root[<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">user</span><span style="color:#710">'</span></span>].miq_group.nil?
        <span style="color:#d70">$evm</span>.log(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">info</span><span style="color:#710">&quot;</span></span>,<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span><span style="color:#33B">@method</span><span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20"> - Group:&lt;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>miq_group.description<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20">&gt; End Attributes [miq_group.attributes]</span><span style="color:#710">&quot;</span></span>)
        <span style="color:#d70">$evm</span>.log(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">info</span><span style="color:#710">&quot;</span></span>, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#710">&quot;</span></span>)

        <span style="color:#d70">$evm</span>.log(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">info</span><span style="color:#710">&quot;</span></span>,<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span><span style="color:#33B">@method</span><span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20"> - Group:&lt;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>miq_group.description<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20">&gt; Begin Associations [miq_group.associations]</span><span style="color:#710">&quot;</span></span>)
        miq_group.associations.sort.each { |assc| <span style="color:#d70">$evm</span>.log(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">info</span><span style="color:#710">&quot;</span></span>, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span><span style="color:#33B">@method</span><span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20"> - Group:&lt;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>miq_group.description<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20">&gt; Associations - </span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>assc<span style="font-weight:bold;color:#666">}</span></span><span style="color:#710">&quot;</span></span>)}
        <span style="color:#d70">$evm</span>.log(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">info</span><span style="color:#710">&quot;</span></span>,<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span><span style="color:#33B">@method</span><span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20"> - Group:&lt;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>miq_group.description<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20">&gt; End Associations [miq_group.associations]</span><span style="color:#710">&quot;</span></span>)
        <span style="color:#d70">$evm</span>.log(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">info</span><span style="color:#710">&quot;</span></span>,<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#710">&quot;</span></span>)

        <span style="color:#d70">$evm</span>.log(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">info</span><span style="color:#710">&quot;</span></span>,<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span><span style="color:#33B">@method</span><span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20"> - Group:&lt;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>miq_group.description<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20">&gt; Begin Virtual Columns [miq_group.virtual_column_names]</span><span style="color:#710">&quot;</span></span>)
        miq_group.virtual_column_names.sort.each { |vcn| <span style="color:#d70">$evm</span>.log(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">info</span><span style="color:#710">&quot;</span></span>, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span><span style="color:#33B">@method</span><span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20"> - Group:&lt;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>miq_group.description<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20">&gt; Virtual Columns - </span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>vcn<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20">: </span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>miq_group.send(vcn).inspect<span style="font-weight:bold;color:#666">}</span></span><span style="color:#710">&quot;</span></span>)}
        <span style="color:#d70">$evm</span>.log(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">info</span><span style="color:#710">&quot;</span></span>,<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span><span style="color:#33B">@method</span><span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20"> - Group:&lt;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>miq_group.description<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20">&gt; End Virtual Columns [miq_group.virtual_column_names]</span><span style="color:#710">&quot;</span></span>)
        <span style="color:#d70">$evm</span>.log(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">info</span><span style="color:#710">&quot;</span></span>,<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#710">&quot;</span></span>)
      <span style="color:#080;font-weight:bold">end</span>
    <span style="color:#080;font-weight:bold">end</span>
  <span style="color:#080;font-weight:bold">end</span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_sect_request_miq_request"><a class="anchor" href="#_sect_request_miq_request"></a>1.24. Request (miq_request)</h3>
<div class="paragraph">
<p>Request objects are submitted to ManageIQ Server for processing.
After the request phase, the request becomes a task object.
The table below shows the relationship between a request object and a task object.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Request Object</th>
<th class="tableblock halign-left valign-top">Task Object</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">automation_request</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">automation_task</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">miq_host_provision_request</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">miq_host_provision</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">miq_provision_request</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">miq_provision</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">vm_reconfigure_request</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">vm_reconfigure_task</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">service_template_provision_request</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">service_template_provision_task</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">vm_migrate_request</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">vm_migrate_task</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>If you set something on the request object, it will be inherited by the task instance that does the work.
This may be useful if you are provisioning multiple virtual machines at a time and need to modify the same setting for all.
Otherwise, the item can be modified on the individual task.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Method</th>
<th class="tableblock halign-left valign-top">Use</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">add_tag(category, tag_name)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Add a tag to a provision instance by specifying the category and tag name</p>
<p class="tableblock">								Example: miq_provision.add_tag(:location, "CHI")</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">approve(approver,reason for approval)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Approves the miq_request.</p>
<p class="tableblock">								Example: $evm.root["miq_request"].approve("admin", "Auto-Approved")</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">approvers</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns request approvers.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">authorized?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns true if authorized, false if not.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">clear_tag(category=nil, tag_name=nil)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Without any parameters, the clear_tag method will clear all tags from the provision request. Providing a category will clear all tags selected in that category. Clear a specific category/tag by providing it.</p>
<p class="tableblock">								Example: miq_provision.clear_tag(:location, "CHI")</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">deny</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Denies the miq_request</p>
<p class="tableblock">								Example:</p>
<p class="tableblock">								# Deny the request</p>
<p class="tableblock">								$evm.log('info',"Request denied because of Quota")</p>
<p class="tableblock">								$evm.root["miq_request"].deny("admin", "Quota Exceeded")</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">get_classification(category)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Works the same as get_tag(category) but the returned data is a hash with :name and :description</p>
<p class="tableblock">								Example:</p>
<p class="tableblock">								request.get_classification(:department)</p>
<p class="tableblock">								Returns: [{:name&#8658;"accounting", :description&#8658;"Accounting"}, {:name&#8658;"engineering", :description&#8658;"Engineering"}]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">get_classifications</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Works the same as get_tag but the returned tag data is a hash with :name and :description</p>
<p class="tableblock">								Example:</p>
<p class="tableblock">								request.get_classifications</p>
<p class="tableblock">								Returns: {:cc&#8658;{:name&#8658;"001", :description&#8658;"Cost Center 001"}, :department&#8658;[{:name&#8658;"accounting", :description&#8658;"Accounting"}, {:name&#8658;"engineering", :description&#8658;"Engineering"}]}</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">get_option(key)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns a value from the options hash based on the name of the key name passed in. Internally many of the values are stored as an array of items. (For example, a target host would be stored as the index to the host object in the db and the display name.) Calling this method will return the first item if it is an array. For non-array values the item is returned unmodified.</p>
<p class="tableblock">								Example: miq_provision_request.get_option(:number_of_cpus)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">get_tag(category)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns the tags selected for the specified tag category.</p>
<p class="tableblock">								Example: request.get_tag(:department)</p>
<p class="tableblock">								Returns: ["accounting", "engineering"]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">get_tags</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Get all selected tags stored in a hash by category. If more than one tag is selected in a category, the hash will contain an array of tag names. Otherwise it will contain the tag name as a string.</p>
<p class="tableblock">								Example: request.get_tags</p>
<p class="tableblock">								Returns: {:cc&#8658;"001", :department&#8658;["accounting", "engineering"]}</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">miq_request</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Legacy support) Internal Note: The miq_request instance use to be a separate instance from the specific request instance (like miq_provision_request). When the classes were refactored into 1 this method was added to allow existing code and automate methods to continue to run unchanged.)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">miq_request_tasks</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns the requests tasks</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">options</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns a hash containing all the options set for the current provision object</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">pending</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Puts the object in a pending state for approval</p>
<p class="tableblock">								Example:</p>
<p class="tableblock">								# Raise automation event: request_pending</p>
<p class="tableblock">								$evm.root["miq_request"].pending</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">reason</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns reason for approval or denial of request</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">requester</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns the requester</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">resource</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns the resource for the request</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">set_message(value)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sets the message for the request</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">set_option(key, value)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sets the specified key/value pair for the object</p></td>
</tr>
</tbody>
</table>
<div class="sect3">
<h4 id="_automation_request"><a class="anchor" href="#_automation_request"></a>1.24.1. Automation Request (automation_request)</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Method</th>
<th class="tableblock halign-left valign-top">Use</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">automation_tasks</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns objects automate tasks</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_miq_host_provision_request"><a class="anchor" href="#_miq_host_provision_request"></a>1.24.2. Host Provision Request (miq_host_provision_request)</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Method</th>
<th class="tableblock halign-left valign-top">Use</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">miq_host_provisions</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns the miq_host_provisions objects</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ci_type</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns the cloud infrastructure type: host</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_miq_provision_request"><a class="anchor" href="#_miq_provision_request"></a>1.24.3. VM Provision Request (miq_provision_request)</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Method</th>
<th class="tableblock halign-left valign-top">Use</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">check_quota(quota_type, options={})</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns the quota information for the specified type</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ci_type</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns the cloud infrastructure type: vm</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">eligible_clusters</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns an array of available Cluster objects filtered by previously selected resources</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">eligible_customization_templates</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns an array of available Customization Templates filtered by previously selected resources</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">eligible_folders</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns an array of available Folder objects filtered by previously selected resources</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">eligible_hosts</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns an array of available Host objects filtered by previously selected resources</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">eligible_iso_images</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns an array of available ISO image objects filtered by previously selected resources</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">eligible_pxe_images</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns an array of available PXE Image objects filtered by previously selected resources</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">eligible_pxe_servers</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns an array of available PXE Server objects filtered by previously selected resources</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">eligible_resource_pools</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns an array of available Resource Pool objects filtered by previously selected resources</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">eligible_resources(rsc_type)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns eligible resources given the type specified</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">eligible_storages</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns an array of available Storage (Datastore) objects filtered by previously selected resources</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">eligible_windows_images</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns an array of available Windows Image objects filtered by previously selected resources</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">get_folder_paths</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns a hash where the key is an index and the value is the fully-qualified path name of the folder. (Sample: {7 &#8658; Dev/Dept1/QA, 8 &#8658; Test/Dept2/QA}) This format is useful when a fully-qualified path is required to match the folder name. For example, if you had multiple QA folders under different departments in the sample above. To find the proper QA folder you need to evaluate the entire folder path.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">get_retirement_days</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns the number of dates until retirement</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">miq_provision</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns the task.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">miq_request</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns the miq_provision_requests miq_request object</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">set_cluster(rsc)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Set the cluster to use based on object returned from eligible_clusters</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">set_customization_template(rsc)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Set the customization_template to use based on object returned from eligible_customization_templates</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">set_folder(folder_path)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Set the folder to use based on object returned from eligible_folders. In addition, set_folder accepts the following folder types:</p>
<p class="tableblock">							Folder Paths - separated by forward slashes. (Must include Data-center name.) Example: Prod/Discovered virtual machine where Prod is the Data-center name and Discovered virtual machine is the folder name.</p>
<p class="tableblock">							Object returned from the get_folder_paths method</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">set_host(rsc)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Set the host to use based on object returned from eligible_hosts</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">set_network_adapter(idx, nic_hash, value=nil)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Modifies the network card attached to the VM container</p>
<p class="tableblock">							Available settings:</p>
<p class="tableblock">							:is_dvs true / false (Default: false)</p>
<p class="tableblock">							:network (Network Name)</p>
<p class="tableblock">							:mac_address</p>
<p class="tableblock">							:devicetype (Default: VirtualPCNet32) Defined by VMware: <a href="http://www.vmware.com/support/developer/vc-sdk/visdk400pubs/ReferenceGuide/vim.vm.device.VirtualEthernetCard.html" class="bare">http://www.vmware.com/support/developer/vc-sdk/visdk400pubs/ReferenceGuide/vim.vm.device.VirtualEthernetCard.html</a></p>
<p class="tableblock">							:connectable &#8658; {:allowguestcontrol &#8658; true / false} (Default: true)</p>
<p class="tableblock">							:connectable &#8658; {:startconnected &#8658; true / false} (Default: true)</p>
<p class="tableblock">							:connectable &#8658; {:connected &#8658; true / false} (Default: true)</p>
<p class="tableblock">							Example: prov.set_network_adapter(1, {:network &#8658; dvs_net1, :is_dvs &#8658; true} )</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">set_network_address_mode(mode)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sets IP address type. Available modes are dhcp and static</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">set_nic_settings(idx, nic_hash, value=nil)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Modifies the network interface settings at the operating system level</p>
<p class="tableblock">							Available settings:</p>
<p class="tableblock">							:addr_mode "dhcp" / "static" (Default: static)</p>
<p class="tableblock">							:ip_addr</p>
<p class="tableblock">							:subnet_mask</p>
<p class="tableblock">							:gateway</p>
<p class="tableblock">							:dns_domain</p>
<p class="tableblock">							:dns_servers (Windows Only) Comma separated values</p>
<p class="tableblock">							:sysprep_netbios_mode (Windows Only) Defined by VMware: <a href="http://www.vmware.com/support/developer/vc-sdk/visdk400pubs/ReferenceGuide/vim.vm.customization.IPSettings.NetBIOSMode.html" class="bare">http://www.vmware.com/support/developer/vc-sdk/visdk400pubs/ReferenceGuide/vim.vm.customization.IPSettings.NetBIOSMode.html</a></p>
<p class="tableblock">							:wins_servers Passed as a string specifying the Primary and Secondary WINS servers separated by a comma. "&lt;PrimaryWINS&gt;, &lt;SecondaryWINS&gt;"</p>
<p class="tableblock">							Example: prov.set_nic_settings(1, {:ip_addr&#8658;10.226.133.55, :subnet_mask&#8658;'255.255.255.192', :gateway&#8658;'10.226.133.5', :addr_mode&#8658;["static", "Static"] } )</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">set_iso_image(rsc)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Set the iso_image to use based on object returned from eligible_iso_images</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">set_pxe_image(rsc)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Set the pxe_image to use based on object returned from eligible_pxe_images</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">set_pxe_server(rsc)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Set the pxe_server to use based on object returned from eligible_pxe_servers</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">set_resource_pool(rsc)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Set the resource_pool to use based on object returned from eligible_resource_pools</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">set_resource(rsc)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sets the resource for the request. (Helper method, should not be called directly)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">set_retirement_days</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Set the number of days until retirement.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">set_storage(rsc)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Set the Datastore (storage object) to use based on object returned from eligible_storages</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">set_vm_notes(note)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sets text for the VM notes (aka annotation) field</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">set_windows_image(rsc)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Set the windows_image to use based on object returned from eligible_windows_images</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">source_type</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns the provision source type. (values are 'vm' or 'template')</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">src_vm_id</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns ID of the template being cloned</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">target_type</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns the provision target type. (values are 'vm' or 'template')</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">vm_template</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns the requests template</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_sect_request_task_miq_request_task"><a class="anchor" href="#_sect_request_task_miq_request_task"></a>1.25. Request Task (miq_request_task)</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Method</th>
<th class="tableblock halign-left valign-top">Use</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">add_tag(category, tag_name)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Add a tag to a provision instance by specifying the category and tag name.</p>
<p class="tableblock">								Example: miq_provision.add_tag(:location, "CHI")</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">clear_tag(category=nil, tag_name=nil)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Without any parameters, the clear_tag method will clear all tags from the provision request. Providing a category will clear all tags selected in that category. Clear a specific category/tag by providing it.</p>
<p class="tableblock">								Example: miq_provision.clear_tag(:location, "CHI")</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">destination</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns the destination object. (The resultant object from running the task. In the case of provisioning, this would be the newly created VM.)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">execute</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Executes or processes the request.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">finished(msg)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sets the task to finished with the supplied message.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">get_classification(category)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Works the same as get_tag(category) but the returned data is a hash with :name and :description.</p>
<p class="tableblock">								Example:</p>
<p class="tableblock">								request.get_classification(:department)</p>
<p class="tableblock">								Returns: [{:name&#8658;"accounting", :description&#8658;"Accounting"}, {:name&#8658;"engineering", :description&#8658;"Engineering"}]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">get_classifications</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Works the same as get_tag but the returned tag data is a hash with :name and :description.</p>
<p class="tableblock">								Example:</p>
<p class="tableblock">								request.get_classifications</p>
<p class="tableblock">								Returns: {:cc&#8658;{:name&#8658;"001", :description&#8658;"Cost Center 001"}, :department&#8658;[{:name&#8658;"accounting", :description&#8658;"Accounting"}, {:name&#8658;"engineering", :description&#8658;"Engineering"}]}</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">get_option_last(key)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">This method is the same as get_option, except that it returns the last array value.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">get_option(key)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns a value from the options hash based on the name of the key name passed in. Internally many of the values are stored as an array of items. (For example, a target host would be stored as the index to the host object in the db and the display name.) Calling this method will return the first item if it is an array. For non-array values the item is returned unmodified.</p>
<p class="tableblock">								Example: miq_provision_request.get_option(:number_of_cpus)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">get_tag(category)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns the tags selected for the specified tag category.</p>
<p class="tableblock">								Example: request.get_tag(:department)</p>
<p class="tableblock">								Returns: ["accounting", "engineering"]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">get_tags</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Get all selected tags stored in a hash by category. If more than one tag is selected in a category, the hash will contain an array of tag names. Otherwise it will contain the tag name as a string.</p>
<p class="tableblock">								Example: request.get_tag</p>
<p class="tableblock">								Returns: {:cc&#8658;"001", :department&#8658;["accounting", "engineering"]}</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">message=(msg)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sets the message for the request task.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">miq_request</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns the miq_request for the task.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">miq_request_task</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns the parent miq_request task.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">miq_request.user_message=(msg)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Allows automate method to override the default request status message.
								As a result, you can set custom messages for the progression of the state machine and its success or failure.
								This message will appear as the last message for the service request.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">miq_request_tasks</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns the children miq_request tasks.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">options</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns a hash containing all the options set for the current object.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">set_option(key, value)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Updates a key/value pair in the options hash for the provision object. Often the value is required to be an array.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">source</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns the source object. (The source, or input, object that the task runs against. In the case of provisioning, this would be the VM or template selected to be provisioned.)</p></td>
</tr>
</tbody>
</table>
<div class="sect3">
<h4 id="_automation_task"><a class="anchor" href="#_automation_task"></a>1.25.1. Automation Task (automation_task)</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Method</th>
<th class="tableblock halign-left valign-top">Use</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">automation_request</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns associated automation_request object</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">status</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns status of the task</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_miq_host_provision"><a class="anchor" href="#_miq_host_provision"></a>1.25.2. Host Provision Task (miq_host_provision)</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Method</th>
<th class="tableblock halign-left valign-top">Use</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">host</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns objects host</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">miq_host_provision_request</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns the request that created the task</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">status</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns status of host provision</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_sect_vm_provision_task_miq_provision"><a class="anchor" href="#_sect_vm_provision_task_miq_provision"></a>1.25.3. VM Provision Task (miq_provision)</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Method</th>
<th class="tableblock halign-left valign-top">Use</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">check_quota(quota_type, options={})</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns the quota information for the specified type</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">eligible_clusters</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns an array of available Cluster objects filtered by previously selected resources</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">eligible_customization_templates</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns an array of available Customization Templates</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">eligible_folders</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns an array of available Folder objects filtered by previously selected resources</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">eligible_hosts</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns an array of available Host objects filtered by previously selected resources</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">eligible_iso_images</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns an array of available ISO Image objects filtered by previously selected resources</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">eligible_pxe_images</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns an array of available PXE Image objects filtered by previously selected resources</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">eligible_pxe_servers</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns an array of available PXE Servers filtered by previously selected resources</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">eligible_resource_pools</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns an array of available Resource Pool objects filtered by previously selected resources</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">eligible_resources(rsc_type)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns the eligible resources for the resource type specified</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">eligible_storages</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns an array of available Storage (Datastore) objects filtered by previously selected resources</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">eligible_windows_images</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns an array of available Windows Image objects filtered by previously selected resources</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">get_domain_details</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns domain information</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">get_domain_name</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns domain name</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">get_folder_paths</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns a hash where the key is an index and the value is the fully-qualified path name of the folder. (Sample: {7 &#8658; Dev/Dept1/QA, 8 &#8658; Test/Dept2/QA}) This format is useful when a fully-qualified path is required to match the folder name. For example, if you had multiple QA folders under different departments in the sample above. To find the proper QA folder you need to evaluate the entire folder path.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">get_network_details</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns network information</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">get_network_scope</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns network scope</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">miq_provision_request</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns the provision request object</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">set_cluster(rsc)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Set the cluster to use based on object returned from eligible_clusters</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">set_customization_spec(name=nil, override=false)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sets the name of the custom spec to use as defined by its name in Virtual Center (Note: This is not supported when being passed by VMware.)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">set_customization_template(rsc)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Set the customization_template to use based on object returned from eligible_customization_templates</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">set_dvs(portgroup, switch = portgroup)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Set the name of the Distributed Virtual Switch (portgroup). An options &lt;switch&gt; name can also be passed</p>
<p class="tableblock">									Example: miq_provision.set_dvs('default')</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">set_folder(folder_path)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Set the folder to use based on object returned from eligible_folders. In addition, set_folder accepts the following folder types:</p>
<p class="tableblock">									Folder Paths - separated by forward slashes. (Must include Data-center name.) Example: Prod/Discovered virtual machine where Prod is the Data-center name and Discovered virtual machine is the folder name.</p>
<p class="tableblock">									Object returned from the get_folder_paths method</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">set_host(rsc)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Set the host to use based on object returned from eligible_hosts</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">set_network_adapter(idx, nic_hash, value=nil)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Modifies the network card attached to the VM container</p>
<p class="tableblock">									Available settings:</p>
<p class="tableblock">									:is_dvs true / false (Default: false)</p>
<p class="tableblock">									:network (Network Name)</p>
<p class="tableblock">									:mac_address</p>
<p class="tableblock">									:devicetype (Default: VirtualPCNet32) Defined by VMware: <a href="http://www.vmware.com/support/developer/vc-sdk/visdk400pubs/ReferenceGuide/vim.vm.device.VirtualEthernetCard.html" class="bare">http://www.vmware.com/support/developer/vc-sdk/visdk400pubs/ReferenceGuide/vim.vm.device.VirtualEthernetCard.html</a></p>
<p class="tableblock">									:connectable &#8658; {:allowguestcontrol &#8658; true / false} (Default: true)</p>
<p class="tableblock">									:connectable &#8658; {:startconnected &#8658; true / false} (Default: true)</p>
<p class="tableblock">									:connectable &#8658; {:connected &#8658; true / false} (Default: true)</p>
<p class="tableblock">									Example: prov.set_network_adapter(1, {:network &#8658; dvs_net1, :is_dvs &#8658; true} )</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">set_network_address_mode(mode)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Available modes are dhcp and static</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">set_nic_settings(idx, nic_hash, value=nil)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Modifies the network interface settings at the operating system level</p>
<p class="tableblock">									Available settings:</p>
<p class="tableblock">									:addr_mode "dhcp" / "static" (Default: Statis)</p>
<p class="tableblock">									:ip_addr</p>
<p class="tableblock">									:subnet_mask</p>
<p class="tableblock">									:gateway</p>
<p class="tableblock">									:dns_domain</p>
<p class="tableblock">									:dns_servers (Windows Only) Comma separated values</p>
<p class="tableblock">									:sysprep_netbios_mode (Windows Only) Defined by VMware: <a href="http://www.vmware.com/support/developer/vc-sdk/visdk400pubs/ReferenceGuide/vim.vm.customization.IPSettings.NetBIOSMode.html" class="bare">http://www.vmware.com/support/developer/vc-sdk/visdk400pubs/ReferenceGuide/vim.vm.customization.IPSettings.NetBIOSMode.html</a></p>
<p class="tableblock">									:wins_servers Passed as a string specifying the Primary and Secondary WINS servers separated by a comma. "&lt;PrimaryWINS&gt;, &lt;SecondaryWINS&gt;"</p>
<p class="tableblock">									Example: prov.set_nic_settings(1, {:ip_addr&#8658;10.226.133.55, :subnet_mask&#8658;'255.255.255.192', :gateway&#8658;'10.226.133.5', :addr_mode&#8658;["static", "Static"] } )</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">set_iso_image(rsc)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Set the iso_image to use based on object returned from eligible_iso_images</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">set_pxe_image(rsc)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Set the pxe_image to use based on object returned from eligible_pxe_images</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">set_pxe_server(rsc)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Set the pxe_server to use based on object returned from eligible_pxe_servers</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">set_resource_pool(rsc)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Set the resource_pool to use based on object returned from eligible_resource_pools</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">set_storage(rsc)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Set the Datastore (storage object) to use based on object returned from eligible_storages</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">set_vlan(vlan)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sets the name of the VLan to use</p>
<p class="tableblock">									Example: miq_provision.set_vlan('default')</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">set_vm_notes(note)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sets text for the VM notes (aka annotation) field</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">set_vm_notes(notes)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sets text for the VM notes (aka annotation) field</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">set_windows_image(rsc)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Set the windows_image to use based on object returned from eligible_windows_images</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">source_type</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns the provision source type. (values are 'vm' or 'template')</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">status</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns provision status</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">target_type</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns the provision target type. (values are 'vm' or 'template')</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">vdi_farm</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns VDI Farm information</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">vm</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The newly created vm</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">vm_template</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns the template selected to be provisioned</p></td>
</tr>
</tbody>
</table>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="ruby"><span style="color:#080;font-weight:bold">begin</span>
  miq_provision = <span style="color:#d70">$evm</span>.root[<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">miq_provision</span><span style="color:#710">&quot;</span></span>] || <span style="color:#d70">$evm</span>.root[<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">miq_provision</span><span style="color:#710">'</span></span>]
  prov = <span style="color:#d70">$evm</span>.root[<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">miq_provision</span><span style="color:#710">&quot;</span></span>]
  user = prov.miq_request.requester
  raise <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">User not specified</span><span style="color:#710">&quot;</span></span> <span style="color:#080;font-weight:bold">if</span> user.nil?



  <span style="color:#777">###################################</span>
  <span style="color:#777"># Process Change Request Number and set VM Annotation</span>
  <span style="color:#777">###################################</span>
  intake = prov.get_option(<span style="color:#A60">:vm_description</span>)
  intake = <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">Change Request#: </span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>intake<span style="font-weight:bold;color:#666">}</span></span><span style="color:#710">&quot;</span></span>
  prov.set_option(<span style="color:#A60">:vm_description</span>,intake)


  <span style="color:#777">###################################</span>
  <span style="color:#777"># Set the customization spec based on the environment tag chosen in the dialog</span>
  <span style="color:#777">###################################</span>
  tags = prov.get_tags
  <span style="color:#d70">$evm</span>.log(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">info</span><span style="color:#710">&quot;</span></span>,<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">Tags: </span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>tags.inspect<span style="font-weight:bold;color:#666">}</span></span><span style="color:#710">&quot;</span></span>)
  env = tags[<span style="color:#A60">:environment</span>]
  <span style="color:#d70">$evm</span>.log(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">info</span><span style="color:#710">&quot;</span></span>, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">Mapping custom spec based on Category Environment &lt;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>env<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20">&gt; chosen in the dialog</span><span style="color:#710">&quot;</span></span>)
  <span style="color:#080;font-weight:bold">if</span> env.eql? <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">dev</span><span style="color:#710">&quot;</span></span>
    customization_spec = <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">Dev-Specification</span><span style="color:#710">&quot;</span></span>
    miq_provision.set_customization_spec(customization_spec)
  <span style="color:#080;font-weight:bold">end</span>
  <span style="color:#080;font-weight:bold">if</span> env.eql? <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">stg</span><span style="color:#710">&quot;</span></span>
    customization_spec = <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">Stg-Specification</span><span style="color:#710">&quot;</span></span>
    miq_provision.set_customization_spec(customization_spec)
  <span style="color:#080;font-weight:bold">end</span>


  <span style="color:#777">###################################</span>
  <span style="color:#777"># Set the VM Notes as follows:</span>
  <span style="color:#777">###################################</span>
  vm_notes = <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>intake<span style="font-weight:bold;color:#666">}</span></span><span style="color:#710">&quot;</span></span>
  vm_notes +=  <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#b0b">\n</span><span style="color:#D20">Owner: </span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>miq_provision.get_option(<span style="color:#A60">:owner_first_name</span>)<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20"> </span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>miq_provision.get_option(<span style="color:#A60">:owner_last_name</span>)<span style="font-weight:bold;color:#666">}</span></span><span style="color:#710">&quot;</span></span>
  vm_notes += <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#b0b">\n</span><span style="color:#D20">Email: </span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>miq_provision.get_option(<span style="color:#A60">:owner_email</span>)<span style="font-weight:bold;color:#666">}</span></span><span style="color:#710">&quot;</span></span>
  vm_notes += <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#b0b">\n</span><span style="color:#D20">Source Template: </span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>miq_provision.vm_template.name<span style="font-weight:bold;color:#666">}</span></span><span style="color:#710">&quot;</span></span>
  miq_provision.set_vm_notes(vm_notes)


  <span style="color:#777">###################################</span>
  <span style="color:#777"># Drop the VM in the targeted folder</span>
  <span style="color:#777"># In VC a folder must exist that matches the LDAP Group</span>
  <span style="color:#777"># VM will be placed in the Folder</span>
  <span style="color:#777">###################################</span>
  <span style="color:#080;font-weight:bold">if</span> prov.get_option(<span style="color:#A60">:placement_folder_name</span>).nil?
    <span style="color:#777">###################################</span>
    <span style="color:#777"># If you want to use a Default folder, set folder = below to the default</span>
    <span style="color:#777">###################################</span>
    <span style="color:#777">#    folder = &quot;22F DC/LAB FARM/GSE/Intel/Infrastructure/ManageIQ/SelfServiceVMs&quot;</span>
    folder = <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">DC1/Infrastructure/ManageIQ/SelfService</span><span style="color:#710">&quot;</span></span>
    <span style="color:#d70">$evm</span>.log(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">info</span><span style="color:#710">&quot;</span></span>, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">Placing VM in VC folder: &lt;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>folder<span style="font-weight:bold;color:#666">}</span></span><span style="color:#710">&quot;</span></span>)
    <span style="color:#d70">$evm</span>.log(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">info</span><span style="color:#710">&quot;</span></span>, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">Set_folder called with [</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>folder.inspect<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20">]</span><span style="color:#710">&quot;</span></span>)

    miq_provision.set_folder(folder)
  <span style="color:#080;font-weight:bold">end</span>


  <span style="color:#777">####################################################</span>
  <span style="color:#777"># Set the IP Address based on the :mac_address entered in the dialog</span>
  <span style="color:#777">#</span>
  <span style="color:#777">####################################################</span>
  ipaddr = prov.get_option(<span style="color:#A60">:mac_address</span>)

  <span style="color:#080;font-weight:bold">if</span> ! ipaddr.nil?
    <span style="color:#777"># Set provisioning options to override options</span>
    prov.set_option(<span style="color:#A60">:sysprep_spec_override</span>, [<span style="color:#069">true</span>, <span style="color:#00D">1</span>])
    prov.set_option(<span style="color:#A60">:addr_mode</span>, [<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">static</span><span style="color:#710">&quot;</span></span>, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">Static</span><span style="color:#710">&quot;</span></span>])
    prov.set_option(<span style="color:#A60">:ip_addr</span>, ipaddr)
    <span style="color:#777"># Reset :mac_address to nil</span>
    prov.set_option(<span style="color:#A60">:mac_address</span>, <span style="color:#069">nil</span>)
  <span style="color:#080;font-weight:bold">end</span>

  <span style="color:#d70">$evm</span>.log(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">info</span><span style="color:#710">&quot;</span></span>, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">Provision Options: </span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>prov.options.inspect<span style="font-weight:bold;color:#666">}</span></span><span style="color:#710">&quot;</span></span>)

  exit <span style="color:#036;font-weight:bold">MIQ_OK</span>

<span style="color:#080;font-weight:bold">rescue</span> =&gt; err
  <span style="color:#d70">$evm</span>.log(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">info</span><span style="color:#710">&quot;</span></span>, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">Set_folder err [</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>err<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20">]</span><span style="color:#b0b">\n</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>err.backtrace.join(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#b0b">\n</span><span style="color:#710">&quot;</span></span>)<span style="font-weight:bold;color:#666">}</span></span><span style="color:#710">&quot;</span></span>)
<span style="color:#080;font-weight:bold">end</span></code></pre>
</div>
</div>
<div class="sect4">
<h5 id="adding-disks-to-openstack-instance-provisioning"><a class="anchor" href="#adding-disks-to-openstack-instance-provisioning"></a>Adding Disks to OpenStack Instance Provisioning</h5>
<div class="paragraph">
<p>Using the clone_options, construct the keys and values required to define new disks as well as override or set other keys if needed.</p>
</div>
<div class="exampleblock">
<div class="title">Example 1. Usage in Automate Model</div>
<div class="content">
Include the following settings with prov.set_options to set one or multiple volumes to attach.
Note that each hash requires the :volume_id and :device_name keys.
</div>
</div>
<div class="listingblock">
<div class="content">
<pre>clone_options = {
  :block_device_mapping =&gt; [
    {:volume_id =&gt; "d4xxxx92-5xx0-4xx9-bxx4-f1xxxxxxxx19", :device_name =&gt; "/dev/sdb"},
    {:volume_id =&gt; "e7xxxxf5-dxxd-4xx0-8xx3-a2xxxxxxxx12", :device_name =&gt; "/dev/sdc"},
  ]
}

prov = $evm.root["miq_provision"]
prov.set_option(:clone_options, clone_options)</pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="booting-openstack-instances-from-volume"><a class="anchor" href="#booting-openstack-instances-from-volume"></a>Booting OpenStack Instances from Volume</h5>
<div class="paragraph">
<p>You can boot instances created in Red Hat Enterprise Linux OpenStack Platform from a specified volume from an existing selection of block volumes.
You can enable automate to pass the required parameters to OpenStack to use volumes as booting devices on an instance.</p>
</div>
<div class="exampleblock">
<div class="title">Example 2. Usage in Automate Model:</div>
<div class="content">
<div class="paragraph">
<p>Include the following settings in the prov.set_option for provisioning instances created in OpenStack.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>prov.set_option(
  :clone_options, {
    :image_ref =&gt; nil,
    :block_device_mapping_v2 =&gt; [{
      :boot_index =&gt; 0,
      :uuid =&gt; "xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxx",
      :device_name =&gt; "vda",
      :source_type =&gt; "volume",
      :destination_type =&gt; "volume",
      :delete_on_termination =&gt; false
    }]
  }
)</pre>
</div>
</div>
<div class="paragraph">
<p>You can allow passing "block_device_mapping_v2" in the clone options and remove keys from clone_options by setting value to nil.</p>
</div>
</div>
</div>
</div>
<div class="sect4">
<h5 id="vm-provisioning-for-clouds-task-miq_provision_cloud"><a class="anchor" href="#vm-provisioning-for-clouds-task-miq_provision_cloud"></a>VM Provisioning for Clouds Task (miq_provision_cloud)</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Method</th>
<th class="tableblock halign-left valign-top">Use</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">availability_zones</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns object&#8217;s availability zones</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">instance_types</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns object&#8217;s instance types</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">security_groups</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns object&#8217;s security groups</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">floating_ip_addresses</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns object&#8217;s floating IP addresses</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">cloud_networks</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns object&#8217;s cloud network</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">cloud_subnets</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns object&#8217;s cloud subnet</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">guest_access_key_pairs</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns object&#8217;s guest key pair</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">cloud_tenants</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns object&#8217;s cloud tenant</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_service_template_provision_task"><a class="anchor" href="#_service_template_provision_task"></a>1.25.4. Service Template Provision Task (service_template_provision_task)</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Method</th>
<th class="tableblock halign-left valign-top">Use</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">dialog_options</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns objects dialog options hash</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">dialog_parser</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Provides consolidated and configurable dialog parsing</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">get_dialog_option(key)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns objects dialog value for the specified key</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">service_resource</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns the service resource for the task</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">set_dialog_option(key, value)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sets a dialog option</p>
<p class="tableblock">							Example:</p>
<p class="tableblock">							set_dialog_option('memory',memory_size)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">status</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns the tasks status</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="service-reconfiguration-task-service_reconfigure_task"><a class="anchor" href="#service-reconfiguration-task-service_reconfigure_task"></a>1.25.5. Service Reconfiguration Task (service_reconfigure_task)</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Method</th>
<th class="tableblock halign-left valign-top">Use</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">dialog_options</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Show all dialog options for object</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">get_dialog_option(key)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Show a dialog option based stored in key</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">set_dialog_option(key, value)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Set value as a dialog option in key</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">status</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns status of the task</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">finished(msg)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sets the task to finished with the supplied message</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_vm_migrate_task"><a class="anchor" href="#_vm_migrate_task"></a>1.25.6. VM Migrate Task (vm_migrate_task)</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Method</th>
<th class="tableblock halign-left valign-top">Use</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">status</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns status of the migration task</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect2">
<h3 id="proxies-miq_proxy"><a class="anchor" href="#proxies-miq_proxy"></a>1.26. Proxies (miq_proxy)</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Method</th>
<th class="tableblock halign-left valign-top">Use</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">host</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns object&#8217;s hosts</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">powershell(script, returns = 'string')</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Submits a powershell script</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_sect_servers_miq_server"><a class="anchor" href="#_sect_servers_miq_server"></a>1.27. Servers (miq_server)</h3>
<div class="paragraph">
<p>These methods are available to the ManageIQ Server.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Method</th>
<th class="tableblock halign-left valign-top">Use</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">zone</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns ManageIQ Servers Zone</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">region_number</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns ManageIQ Servers Region Number</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">region_name</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns ManageIQ Servers Region Name</p></td>
</tr>
</tbody>
</table>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="ruby">  <span style="color:#777">#########################</span>
  <span style="color:#777">#</span>
  <span style="color:#777"># Method: dumpServer</span>
  <span style="color:#777"># Inputs: $evm.root['miq_server']</span>
  <span style="color:#777"># Description: Dump MIQ Server information</span>
  <span style="color:#777">#</span>
  <span style="color:#777">##########################</span>
  <span style="color:#080;font-weight:bold">def</span> <span style="color:#06B;font-weight:bold">dumpServer</span>
    <span style="color:#d70">$evm</span>.log(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">info</span><span style="color:#710">&quot;</span></span>,<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span><span style="color:#33B">@method</span><span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20"> - Server:&lt;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span><span style="color:#d70">$evm</span>.root[<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">miq_server</span><span style="color:#710">'</span></span>].name<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20">&gt; Begin Attributes</span><span style="color:#710">&quot;</span></span>)
    <span style="color:#d70">$evm</span>.root[<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">miq_server</span><span style="color:#710">'</span></span>].attributes.sort.each { |k, v| <span style="color:#d70">$evm</span>.log(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">info</span><span style="color:#710">&quot;</span></span>, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span><span style="color:#33B">@method</span><span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20"> - Server:&lt;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span><span style="color:#d70">$evm</span>.root[<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">miq_server</span><span style="color:#710">'</span></span>].name<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20">&gt; Attributes - </span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>k<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20">: </span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>v.inspect<span style="font-weight:bold;color:#666">}</span></span><span style="color:#710">&quot;</span></span>)}
    <span style="color:#d70">$evm</span>.log(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">info</span><span style="color:#710">&quot;</span></span>,<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span><span style="color:#33B">@method</span><span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20"> - Server:&lt;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span><span style="color:#d70">$evm</span>.root[<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">miq_server</span><span style="color:#710">'</span></span>].name<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20">&gt; End Attributes</span><span style="color:#710">&quot;</span></span>)
    <span style="color:#d70">$evm</span>.log(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">info</span><span style="color:#710">&quot;</span></span>, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#710">&quot;</span></span>)
  <span style="color:#080;font-weight:bold">end</span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="network-network"><a class="anchor" href="#network-network"></a>1.28. Network (network)</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Method</th>
<th class="tableblock halign-left valign-top">Use</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">hardware</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns objects hardware</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">guest_device</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns objects guest devices</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_pxe_image"><a class="anchor" href="#_pxe_image"></a>1.29. PXE Image (pxe_image)</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Method</th>
<th class="tableblock halign-left valign-top">Use</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">customization_templates</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns objects customization templates</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">pxe_server</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns objects pxe server</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_pxe_server"><a class="anchor" href="#_pxe_server"></a>1.30. PXE Server (pxe_server)</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Method</th>
<th class="tableblock halign-left valign-top">Use</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">advertised_images</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns objects advertised images</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">advertised_pxe_images</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns objects advertised pxe images</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">default_pxe_image_for_windows</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns objects default pxe image for windows</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">discovered_images</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns objects discovered images</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">discovered_pxe_images</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns objects discovered pxe images</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">images</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns objects images</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">pxe_images</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns objects pxe_images</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">windows_images</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns objects windows images</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="security-groups-security_group"><a class="anchor" href="#security-groups-security_group"></a>1.31. Security Groups (security_group)</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Method</th>
<th class="tableblock halign-left valign-top">Use</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ext_management_system</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns object&#8217;s Management System</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">cloud_network</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns object&#8217;s cloud network</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">cloud_tenant</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns object&#8217;s cloud tenant</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">firewall_rules</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns object&#8217;s firewall rules</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">vms</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns object&#8217;s VMs</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_service2"><a class="anchor" href="#_service2"></a>1.32. Service (service)</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Method</th>
<th class="tableblock halign-left valign-top">Use</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">custom_keys</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns custom keys</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">custom_get(key)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Gets value for specified custom key</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">custom_set(attribute, value)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sets value for specified custom key</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">display=(display)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Set display option</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">group=(group)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sets group that owns the service</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">name=(new_name)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sets name of service</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">owner=(owner)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sets owner of the service</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">request_retire</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Retire Service immediately</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">retirement_warn=(seconds)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sets when to send retirement warning</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">retires_on=(date)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sets retirement date</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">shutdown_guest</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Shuts downs guest operating system of the Service</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">start</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Start the Service</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">stop</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Stop the Service</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">suspend</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Suspend the Service</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">vms</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Show all virtual machines associated with this service</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">direct_vms</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Show virtual machines directly associated with this service</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">indirect_vms</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Show virtual machines associated with lower level services in the hierarchy</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">root_service</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Show the top level service in the hierarchy for the target service</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">all_service_children</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Show all lower level services to the target service in the hierarchy</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">direct_service_children</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Show direct services associated with the target service</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">indirect_service_children</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Show services associated with lower level services of the target service</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">parent_service</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Show the parent service for the target service</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">description=(new_description)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sets the service description</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">remove_from_vmdb</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Delete the service from the database</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">dialog_options</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns all dialog options</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">get_dialog_option(key)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns a specific dialog option specified by key</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">set_dialog_option(key, value)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sets value of a dialog option specified by key</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="service-resource-service_resource"><a class="anchor" href="#service-resource-service_resource"></a>1.33. Service Resource (service_resource)</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Method</th>
<th class="tableblock halign-left valign-top">Use</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">service</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns the associated service</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">service_template</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns the associated service template</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">resource</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns the resource for the request</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">source</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns the source object</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_service_template"><a class="anchor" href="#_service_template"></a>1.34. Service Template (service_template)</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Method</th>
<th class="tableblock halign-left valign-top">Use</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">group=(group)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sets group for the service template</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">owner=(owner)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sets owner for the service template</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="snapshot-snapshot"><a class="anchor" href="#snapshot-snapshot"></a>1.35. Snapshot (snapshot)</h3>
<div class="paragraph">
<p>These methods can be used on Snapshots</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Method</th>
<th class="tableblock halign-left valign-top">Use</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">vm</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns Snapshots VM</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">current?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Checks to see if this is the current snapshot</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">get_current_snapshot</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns the current snapshot id</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">revert_to</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Reverts to specified snapshot</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">remove</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Removes specified snapshot</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_sect_datastores_storage"><a class="anchor" href="#_sect_datastores_storage"></a>1.36. Datastores (storage)</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Method</th>
<th class="tableblock halign-left valign-top">Use</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ext_management_systems,</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns objects Management System</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">hosts</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns objects Hosts</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">vms</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns objects Virtual Machines</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">unregistered_vms</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns objects unregistered Virtual Machines</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">to_s</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Converts object to string</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">scan</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Performs SmartState Analysis on the object</p></td>
</tr>
</tbody>
</table>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="ruby"> <span style="color:#777">#########################</span>
  <span style="color:#777">#</span>
  <span style="color:#777"># Method: dumpStorage</span>
  <span style="color:#777"># Inputs: $evm.root['storage']</span>
  <span style="color:#777"># Description: Dump Storage information</span>
  <span style="color:#777">#</span>
  <span style="color:#777">##########################</span>
  <span style="color:#080;font-weight:bold">def</span> <span style="color:#06B;font-weight:bold">dumpStorage</span>(storage)
    <span style="color:#d70">$evm</span>.log(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">info</span><span style="color:#710">&quot;</span></span>,<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span><span style="color:#33B">@log_prefix</span><span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20"> - Storage:&lt;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>storage.name<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20">&gt; Begin Attributes</span><span style="color:#710">&quot;</span></span>)
    storage.attributes.sort.each { |k, v| <span style="color:#d70">$evm</span>.log(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">info</span><span style="color:#710">&quot;</span></span>, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span><span style="color:#33B">@log_prefix</span><span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20"> - Storage:&lt;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>storage.name<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20">&gt; Attributes - </span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>k<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20">: </span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>v.inspect<span style="font-weight:bold;color:#666">}</span></span><span style="color:#710">&quot;</span></span>)}
    <span style="color:#d70">$evm</span>.log(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">info</span><span style="color:#710">&quot;</span></span>,<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span><span style="color:#33B">@log_prefix</span><span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20"> - Storage:&lt;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>storage.name<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20">&gt; End Attributes</span><span style="color:#710">&quot;</span></span>)
    <span style="color:#d70">$evm</span>.log(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">info</span><span style="color:#710">&quot;</span></span>,<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#710">&quot;</span></span>)

    <span style="color:#d70">$evm</span>.log(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">info</span><span style="color:#710">&quot;</span></span>,<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span><span style="color:#33B">@log_prefix</span><span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20"> - Storage:&lt;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>storage.name<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20">&gt; Begin Associations</span><span style="color:#710">&quot;</span></span>)
    storage.associations.sort.each { |assc| <span style="color:#d70">$evm</span>.log(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">info</span><span style="color:#710">&quot;</span></span>, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span><span style="color:#33B">@log_prefix</span><span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20"> - Storage:&lt;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>storage.name<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20">&gt; Associations - </span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>assc<span style="font-weight:bold;color:#666">}</span></span><span style="color:#710">&quot;</span></span>)}
    <span style="color:#d70">$evm</span>.log(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">info</span><span style="color:#710">&quot;</span></span>,<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span><span style="color:#33B">@log_prefix</span><span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20"> - Storage:&lt;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>storage.name<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20">&gt; End Associations</span><span style="color:#710">&quot;</span></span>)
    <span style="color:#d70">$evm</span>.log(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">info</span><span style="color:#710">&quot;</span></span>,<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#710">&quot;</span></span>)

    <span style="color:#d70">$evm</span>.log(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">info</span><span style="color:#710">&quot;</span></span>,<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span><span style="color:#33B">@log_prefix</span><span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20"> - Storage:&lt;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>storage.name<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20">&gt; Begin Virtual Columns</span><span style="color:#710">&quot;</span></span>)
    storage.virtual_column_names.sort.each { |vcn| <span style="color:#d70">$evm</span>.log(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">info</span><span style="color:#710">&quot;</span></span>, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span><span style="color:#33B">@log_prefix</span><span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20"> - Storage:&lt;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>storage.name<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20">&gt; Virtual Columns - </span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>vcn<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20">: </span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>storage.send(vcn)<span style="font-weight:bold;color:#666">}</span></span><span style="color:#710">&quot;</span></span>)}
    <span style="color:#d70">$evm</span>.log(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">info</span><span style="color:#710">&quot;</span></span>,<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span><span style="color:#33B">@log_prefix</span><span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20"> - Storage:&lt;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>storage.name<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20">&gt; End Virtual Columns</span><span style="color:#710">&quot;</span></span>)
    <span style="color:#d70">$evm</span>.log(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">info</span><span style="color:#710">&quot;</span></span>,<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#710">&quot;</span></span>)
  <span style="color:#080;font-weight:bold">end</span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="switch-switch"><a class="anchor" href="#switch-switch"></a>1.37. Switch (switch)</h3>
<div class="paragraph">
<p>These methods can be used on Switches.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Method</th>
<th class="tableblock halign-left valign-top">Use</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">host</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns switch&#8217;s Host</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">guest_devices</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns switch&#8217;s guest devices</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">lans</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns switch&#8217;s lans</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_sect_user_user"><a class="anchor" href="#_sect_user_user"></a>1.38. User (user)</h3>
<div class="paragraph">
<p>These methods can be used on the currently logged on user.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Method</th>
<th class="tableblock halign-left valign-top">Use</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">current_group</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns user&#8217;s assigned internal group</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">custom_get(key)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns the custom key value specified by "key"</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">custom_keys</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns an array of custom keys</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">custom_set(key,value)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sets custom value for "key" to "value"</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">email</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns user&#8217;s email address</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">get_ladap_attribute(name)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns the value of the specified LDAP attribute</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">get_ldap_atttribute_names</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns user&#8217;s LDAP attribute names</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ldap_group</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns user&#8217;s assigned LDAP group</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">miq_requests</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns user&#8217;s requests</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">name</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns user&#8217;s name</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">userid</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns user&#8217;s userid</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">vms</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns Virtual Machines that this user owns</p></td>
</tr>
</tbody>
</table>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="ruby">  <span style="color:#777">#########################</span>
  <span style="color:#777">#</span>
  <span style="color:#777"># Method: dumpUser</span>
  <span style="color:#777"># Inputs: $evm.root['user']</span>
  <span style="color:#777"># Description: Dump User information</span>
  <span style="color:#777">#</span>
  <span style="color:#777">##########################</span>
  <span style="color:#080;font-weight:bold">def</span> <span style="color:#06B;font-weight:bold">dumpUser</span>
    user = <span style="color:#d70">$evm</span>.root[<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">user</span><span style="color:#710">'</span></span>]
    <span style="color:#080;font-weight:bold">unless</span> user.nil?
      <span style="color:#d70">$evm</span>.log(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">info</span><span style="color:#710">&quot;</span></span>,<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span><span style="color:#33B">@method</span><span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20"> - User:&lt;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>user.name<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20">&gt; Begin Attributes [user.attributes]</span><span style="color:#710">&quot;</span></span>)
      user.attributes.sort.each { |k, v| <span style="color:#d70">$evm</span>.log(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">info</span><span style="color:#710">&quot;</span></span>, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span><span style="color:#33B">@method</span><span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20"> - User:&lt;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>user.name<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20">&gt; Attributes - </span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>k<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20">: </span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>v.inspect<span style="font-weight:bold;color:#666">}</span></span><span style="color:#710">&quot;</span></span>)}
      <span style="color:#d70">$evm</span>.log(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">info</span><span style="color:#710">&quot;</span></span>,<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span><span style="color:#33B">@method</span><span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20"> - User:&lt;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>user.name<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20">&gt; End Attributes [user.attributes]</span><span style="color:#710">&quot;</span></span>)
      <span style="color:#d70">$evm</span>.log(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">info</span><span style="color:#710">&quot;</span></span>, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#710">&quot;</span></span>)

      <span style="color:#d70">$evm</span>.log(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">info</span><span style="color:#710">&quot;</span></span>,<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span><span style="color:#33B">@method</span><span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20"> - User:&lt;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>user.name<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20">&gt; Begin Associations [user.associations]</span><span style="color:#710">&quot;</span></span>)
      user.associations.sort.each { |assc| <span style="color:#d70">$evm</span>.log(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">info</span><span style="color:#710">&quot;</span></span>, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span><span style="color:#33B">@method</span><span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20"> - User:&lt;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>user.name<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20">&gt; Associations - </span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>assc<span style="font-weight:bold;color:#666">}</span></span><span style="color:#710">&quot;</span></span>)}
      <span style="color:#d70">$evm</span>.log(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">info</span><span style="color:#710">&quot;</span></span>,<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span><span style="color:#33B">@method</span><span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20"> - User:&lt;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>user.name<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20">&gt; End Associations [user.associations]</span><span style="color:#710">&quot;</span></span>)
      <span style="color:#d70">$evm</span>.log(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">info</span><span style="color:#710">&quot;</span></span>,<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#710">&quot;</span></span>)

      <span style="color:#d70">$evm</span>.log(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">info</span><span style="color:#710">&quot;</span></span>,<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span><span style="color:#33B">@method</span><span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20"> - User:&lt;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>user.name<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20">&gt; Begin Virtual Columns [user.virtual_column_names]</span><span style="color:#710">&quot;</span></span>)
      user.virtual_column_names.sort.each { |vcn| <span style="color:#d70">$evm</span>.log(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">info</span><span style="color:#710">&quot;</span></span>, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span><span style="color:#33B">@method</span><span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20"> - User:&lt;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>user.name<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20">&gt; Virtual Columns - </span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>vcn<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20">: </span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>user.send(vcn).inspect<span style="font-weight:bold;color:#666">}</span></span><span style="color:#710">&quot;</span></span>)}
      <span style="color:#d70">$evm</span>.log(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">info</span><span style="color:#710">&quot;</span></span>,<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span><span style="color:#33B">@method</span><span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20"> - User:&lt;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>user.name<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20">&gt; End Virtual Columns [user.virtual_column_names]</span><span style="color:#710">&quot;</span></span>)
      <span style="color:#d70">$evm</span>.log(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">info</span><span style="color:#710">&quot;</span></span>,<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#710">&quot;</span></span>)
    <span style="color:#080;font-weight:bold">end</span>
  <span style="color:#080;font-weight:bold">end</span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_sect_virtual_machines_and_templates_vm_or_template"><a class="anchor" href="#_sect_virtual_machines_and_templates_vm_or_template"></a>1.39. Virtual Machines and Templates (vm_or_template)</h3>
<div class="paragraph">
<p>The following methods can be used on a virtual machine or template object.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Method</th>
<th class="tableblock halign-left valign-top">Use</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">add_disk <sup class="footnote">[<a id="_footnoteref_1" class="footnote" href="#_footnotedef_1" title="View footnote.">1</a>]</sup></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Add storage to an existing VM.</p>
<p class="tableblock">							This method accepts as parameters: disk_name, disk_size_mb, and options to pass values for :thinProvisioned, :dependent, and :persistent.</p>
<p class="tableblock">							Example: <code>vm.add_disk("[#{vm.storage_name}]", size_in_mb, thin_provisioned: true)</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">changed_vm_value?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Checks the 2 most recent drift state captures , and answers whether the specified value changed between them</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">collect_running_processes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Collects the running processes of the object</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">create_snapshot(name, desc = nil)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Create a snapshot of the object. The <strong>name</strong> parameter is not used for Red Hat Virtualization virtual machines when creating a snapshot.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">custom_get(key)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Get the value of specified ManageIQ Server key from the object</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">custom_keys</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">List all ManageIQ Server custom keys for the object</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">custom_set(key, value)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Set a custom ManageIQ Server key value</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">datacenter</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns objects Datacenter</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">direct_service</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Show the direct service relationship of the virtual machine</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">directories</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns number of directories on the object</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ems_blue_folder (this will be reworked to be more VMware-specific)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns objects blue folder from VMware. These are the folders showing in VM and Templates view in VMware</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ems_cluster</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns objects cluster</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ems_custom_get(key)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Gets specified key of custom Management System Attribute</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ems_custom_keys</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">List the custom keys defined by the Management System for the object</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ems_custom_set(attribute, value)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sets specified key and value of custom Management System Attribute</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ems_folder</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns objects folder on Management System</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ems_ref_string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns unique identifier the Management System uses to identify this resource. For example, in VMware a VM would return a value like: "vm-26622"</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">event_log_threshold? (options)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Searches event log records to determine if an event has occurred x number of times within a defined time frame. Returns true if the number of matching records found are greater or equal to the specified freq_threshold, otherwise it returns false</p>
<p class="tableblock">								Options values:</p>
<p class="tableblock">								:message_filter_type - Must be one of "STARTS WITH", "ENDS WITH", "INCLUDES", "REGULAR EXPRESSION"</p>
<p class="tableblock">								:message_filter_value - &lt;string value to search for&gt;</p>
<p class="tableblock">								:time_threshold - Options time interval to search. Example: 2.days (Search the past 2 days of event logs) Default 10.days</p>
<p class="tableblock">								:freq_threshold - Number of occurrences to check for. Default = 2</p>
<p class="tableblock">								:source, :event_id, :level, :name - Options filter values</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">event_threshold?(options)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Checks if an event (or multiple events) have occurred X number of times in N seconds. The values below are used if no data is passed</p>
<p class="tableblock">								event_threshold?(options = {:time_threshold &#8658; 30.minutes, :event_types &#8658; ["MigrateVM_Task_Complete"], :freq_threshold &#8658; 2})</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ext_management_system</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns objects Management System</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">files</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns number of files on the object</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">get_realtime_metric(metric, range, function)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns specified realtime metric</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">group=(group)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sets objects group</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">guest_applications</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns objects Guest Application list</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">hardware</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns objects Hardware</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">host</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns objects Host</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">migrate(host, pool = nil, priority = "defaultPriority", state = nil)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Migrates the object to another host. The only required parameter is host</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">miq_provision</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If VM was created using ManageIQ Server provisioning, this is the miq_provision task instance that created the VM</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">operating_system</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns objects Operating System</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">owner</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Return objects owner</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">owner=(owner)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sets objects owner</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">performances_maintains_value_for_duration?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Based on options given, checks to see if a performance threshold is maintained for a time period</p>
<p class="tableblock">								Example: vm.performances_maintains_value_for_duration?(:column &#8658; "cpu_usage_rate_average", :operator &#8658; "=", :value &#8658; 3.51, :duration &#8658; 20.minutes)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">reboot_guest</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Reboots the guest operating system</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">reconfigured_hardware_value?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Checks if hardware value has been reconfigured</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">refresh</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Refresh power states and relationships of the object</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">registered?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Is the object registered?</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">remove_all_snapshots</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Remove all of the objects snapshots</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">remove_from_disk</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Removes the object from disk</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">remove_from_vmdb</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Removes the object from the VMDB</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">remove_snapshot(snapshot_id)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Remove a specific snapshot based on the snapshot_id</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">resource_pool</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns objects Resource Pool</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">retire_now</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Retire the object immediately</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">retirement_warn=(seconds)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Send a retirement warning</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">retires_on=(date)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Retire the object on date specified</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">revert_to_snapshot(snapshot_id)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Revert to a snapshot based on the snapshot_id</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">scan(scan_categories = nil)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Perform SmartState Analysis on the object. Scan_categories is optional</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">service</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Show the top-level service for a virtual machine in a service hierarchy. For the immediate parent service relationship of a virtual machine, use direct_service</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">shutdown_guest</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Shuts down the guest operating system of the object</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">snapshots</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns list of snapshots for the object</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">standby_guest</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Puts the operating system on standby</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">start</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Starts the object</p>
<p class="tableblock">								See Samples/PowerOn_DHOB</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">stop</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Stops the object</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">storage</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns objects Datastore</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">suspend</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Suspends the object</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">to_s</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Converts object to string</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">unlink_storage</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Removes the reference to the VM&#8217;s Datastore</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">unregister</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Unregisters the object from the Management System</p></td>
</tr>
</tbody>
</table>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="ruby">  <span style="color:#777">#########################</span>
  <span style="color:#777">#</span>
  <span style="color:#777"># Method: dumpVM</span>
  <span style="color:#777"># Inputs: $evm.root['vm']</span>
  <span style="color:#777"># Description: Dump VM information</span>
  <span style="color:#777">#</span>
  <span style="color:#777">##########################</span>
  <span style="color:#080;font-weight:bold">def</span> <span style="color:#06B;font-weight:bold">dumpVM</span>(vm)
    <span style="color:#d70">$evm</span>.log(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">info</span><span style="color:#710">&quot;</span></span>,<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span><span style="color:#33B">@log_prefix</span><span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20"> - VM:&lt;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>vm.name<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20">&gt; Begin Attributes [vm.attributes]</span><span style="color:#710">&quot;</span></span>)
    vm.attributes.sort.each { |k, v| <span style="color:#d70">$evm</span>.log(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">info</span><span style="color:#710">&quot;</span></span>, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span><span style="color:#33B">@log_prefix</span><span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20"> - VM:&lt;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>vm.name<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20">&gt; Attributes - </span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>k<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20">: </span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>v.inspect<span style="font-weight:bold;color:#666">}</span></span><span style="color:#710">&quot;</span></span>)}
    <span style="color:#d70">$evm</span>.log(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">info</span><span style="color:#710">&quot;</span></span>,<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span><span style="color:#33B">@log_prefix</span><span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20"> - VM:&lt;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>vm.name<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20">&gt; End Attributes [vm.attributes]</span><span style="color:#710">&quot;</span></span>)
    <span style="color:#d70">$evm</span>.log(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">info</span><span style="color:#710">&quot;</span></span>,<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#710">&quot;</span></span>)

    <span style="color:#d70">$evm</span>.log(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">info</span><span style="color:#710">&quot;</span></span>,<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span><span style="color:#33B">@log_prefix</span><span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20"> - VM:&lt;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>vm.name<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20">&gt; Begin Associations [vm.associations]</span><span style="color:#710">&quot;</span></span>)
    vm.associations.sort.each { |assc| <span style="color:#d70">$evm</span>.log(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">info</span><span style="color:#710">&quot;</span></span>, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span><span style="color:#33B">@log_prefix</span><span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20"> - VM:&lt;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>vm.name<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20">&gt; Associations - </span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>assc<span style="font-weight:bold;color:#666">}</span></span><span style="color:#710">&quot;</span></span>)}
    <span style="color:#d70">$evm</span>.log(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">info</span><span style="color:#710">&quot;</span></span>,<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span><span style="color:#33B">@log_prefix</span><span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20"> - VM:&lt;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>vm.name<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20">&gt; End Associations [vm.associations]</span><span style="color:#710">&quot;</span></span>)
    <span style="color:#d70">$evm</span>.log(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">info</span><span style="color:#710">&quot;</span></span>,<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#710">&quot;</span></span>)

    <span style="color:#d70">$evm</span>.log(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">info</span><span style="color:#710">&quot;</span></span>,<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span><span style="color:#33B">@log_prefix</span><span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20"> - VM:&lt;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>vm.name<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20">&gt; Begin Hardware Attributes [vm.hardware]</span><span style="color:#710">&quot;</span></span>)
    vm.hardware.attributes.each { |k,v| <span style="color:#d70">$evm</span>.log(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">info</span><span style="color:#710">&quot;</span></span>, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span><span style="color:#33B">@log_prefix</span><span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20"> - VM:&lt;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>vm.name<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20">&gt; Hardware - </span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>k<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20">: </span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>v.inspect<span style="font-weight:bold;color:#666">}</span></span><span style="color:#710">&quot;</span></span>)}
    <span style="color:#d70">$evm</span>.log(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">info</span><span style="color:#710">&quot;</span></span>,<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span><span style="color:#33B">@log_prefix</span><span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20"> - VM:&lt;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>vm.name<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20">&gt; End Hardware Attributes [vm.hardware]</span><span style="color:#710">&quot;</span></span>)
    <span style="color:#d70">$evm</span>.log(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">info</span><span style="color:#710">&quot;</span></span>,<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#710">&quot;</span></span>)

    <span style="color:#d70">$evm</span>.log(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">info</span><span style="color:#710">&quot;</span></span>,<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span><span style="color:#33B">@log_prefix</span><span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20"> - VM:&lt;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>vm.name<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20">&gt; Begin Hardware Associations [vm.hardware.associations]</span><span style="color:#710">&quot;</span></span>)
    vm.hardware.associations.sort.each { |assc| <span style="color:#d70">$evm</span>.log(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">info</span><span style="color:#710">&quot;</span></span>, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span><span style="color:#33B">@log_prefix</span><span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20"> - VM:&lt;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>vm.name<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20">&gt; hardware Associations - </span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>assc<span style="font-weight:bold;color:#666">}</span></span><span style="color:#710">&quot;</span></span>)}
    <span style="color:#d70">$evm</span>.log(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">info</span><span style="color:#710">&quot;</span></span>,<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span><span style="color:#33B">@log_prefix</span><span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20"> - VM:&lt;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>vm.name<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20">&gt; End hardware Associations [vm.hardware.associations]</span><span style="color:#710">&quot;</span></span>)
    <span style="color:#d70">$evm</span>.log(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">info</span><span style="color:#710">&quot;</span></span>,<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#710">&quot;</span></span>)

    <span style="color:#d70">$evm</span>.log(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">info</span><span style="color:#710">&quot;</span></span>,<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span><span style="color:#33B">@log_prefix</span><span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20"> - VM:&lt;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>vm.name<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20">&gt; Begin Neworks [vm.hardware.nics]</span><span style="color:#710">&quot;</span></span>)
    vm.hardware.nics.each { |nic| nic.attributes.sort.each { |k,v| <span style="color:#d70">$evm</span>.log(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">info</span><span style="color:#710">&quot;</span></span>, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span><span style="color:#33B">@log_prefix</span><span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20"> - VM:&lt;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>vm.name<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20">&gt; VLAN:&lt;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>nic.device_name<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20">&gt; - </span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>k<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20">: </span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>v.inspect<span style="font-weight:bold;color:#666">}</span></span><span style="color:#710">&quot;</span></span>)}}
    <span style="color:#d70">$evm</span>.log(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">info</span><span style="color:#710">&quot;</span></span>,<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span><span style="color:#33B">@log_prefix</span><span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20"> - VM:&lt;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>vm.name<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20">&gt; End Networks [vm.hardware.nics]</span><span style="color:#710">&quot;</span></span>)
    <span style="color:#d70">$evm</span>.log(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">info</span><span style="color:#710">&quot;</span></span>,<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#710">&quot;</span></span>)

    <span style="color:#080;font-weight:bold">unless</span> vm.ext_management_system.nil?
      <span style="color:#d70">$evm</span>.log(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">info</span><span style="color:#710">&quot;</span></span>,<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span><span style="color:#33B">@log_prefix</span><span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20"> - VM:&lt;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>vm.name<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20">&gt; Begin EMS [vm.ext_management_system]</span><span style="color:#710">&quot;</span></span>)
      vm.ext_management_system.attributes.sort.each { |ems_k, ems_v| <span style="color:#d70">$evm</span>.log(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">info</span><span style="color:#710">&quot;</span></span>, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span><span style="color:#33B">@log_prefix</span><span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20"> - VM:&lt;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>vm.name<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20">&gt; EMS:&lt;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>vm.ext_management_system.name<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20">&gt; </span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>ems_k<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20"> - </span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>ems_v.inspect<span style="font-weight:bold;color:#666">}</span></span><span style="color:#710">&quot;</span></span>)}
      <span style="color:#d70">$evm</span>.log(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">info</span><span style="color:#710">&quot;</span></span>,<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span><span style="color:#33B">@log_prefix</span><span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20"> - VM:&lt;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>vm.name<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20">&gt; End EMS [vm.ext_management_system]</span><span style="color:#710">&quot;</span></span>)
      <span style="color:#d70">$evm</span>.log(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">info</span><span style="color:#710">&quot;</span></span>,<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#710">&quot;</span></span>)
    <span style="color:#080;font-weight:bold">end</span>

    <span style="color:#080;font-weight:bold">unless</span> vm.owner.nil?
      <span style="color:#d70">$evm</span>.log(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">info</span><span style="color:#710">&quot;</span></span>,<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span><span style="color:#33B">@log_prefix</span><span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20"> - VM:&lt;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>vm.name<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20">&gt; Begin Owner [vm.owner]</span><span style="color:#710">&quot;</span></span>)
      vm.owner.attributes.each { |k,v| <span style="color:#d70">$evm</span>.log(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">info</span><span style="color:#710">&quot;</span></span>, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span><span style="color:#33B">@log_prefix</span><span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20"> - VM:&lt;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>vm.name<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20">&gt; Owner - </span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>k<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20">: </span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>v.inspect<span style="font-weight:bold;color:#666">}</span></span><span style="color:#710">&quot;</span></span>)}
      <span style="color:#d70">$evm</span>.log(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">info</span><span style="color:#710">&quot;</span></span>,<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span><span style="color:#33B">@log_prefix</span><span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20"> - VM:&lt;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>vm.name<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20">&gt; End Owner [vm.owner]</span><span style="color:#710">&quot;</span></span>)
      <span style="color:#d70">$evm</span>.log(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">info</span><span style="color:#710">&quot;</span></span>,<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#710">&quot;</span></span>)
    <span style="color:#080;font-weight:bold">end</span>

    <span style="color:#080;font-weight:bold">unless</span> vm.operating_system.nil?
      <span style="color:#d70">$evm</span>.log(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">info</span><span style="color:#710">&quot;</span></span>,<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span><span style="color:#33B">@log_prefix</span><span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20"> - VM:&lt;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>vm.name<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20">&gt; Begin Operating System [vm.operating_system]</span><span style="color:#710">&quot;</span></span>)
      vm.operating_system.attributes.sort.each { |k, v| <span style="color:#d70">$evm</span>.log(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">info</span><span style="color:#710">&quot;</span></span>, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span><span style="color:#33B">@log_prefix</span><span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20"> - VM:&lt;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>vm.name<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20">&gt; Operating System - </span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>k<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20">: </span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>v.inspect<span style="font-weight:bold;color:#666">}</span></span><span style="color:#710">&quot;</span></span>)}
      <span style="color:#d70">$evm</span>.log(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">info</span><span style="color:#710">&quot;</span></span>,<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span><span style="color:#33B">@log_prefix</span><span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20"> - VM:&lt;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>vm.name<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20">&gt; End Operating System [vm.operating_system]</span><span style="color:#710">&quot;</span></span>)
      <span style="color:#d70">$evm</span>.log(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">info</span><span style="color:#710">&quot;</span></span>,<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#710">&quot;</span></span>)
    <span style="color:#080;font-weight:bold">end</span>

    <span style="color:#080;font-weight:bold">unless</span> vm.guest_applications.nil?
      <span style="color:#d70">$evm</span>.log(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">info</span><span style="color:#710">&quot;</span></span>,<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span><span style="color:#33B">@log_prefix</span><span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20"> - VM:&lt;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>vm.name<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20">&gt; Begin Guest Applications</span><span style="color:#710">&quot;</span></span>)
      vm.guest_applications.each { |guest_app| guest_app.attributes.sort.each { |k, v| <span style="color:#d70">$evm</span>.log(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">info</span><span style="color:#710">&quot;</span></span>, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span><span style="color:#33B">@log_prefix</span><span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20"> - VM:&lt;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>vm.name<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20">&gt; Guest Application:&lt;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>guest_app.name<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20">&gt; - </span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>k<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20">: </span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>v.inspect<span style="font-weight:bold;color:#666">}</span></span><span style="color:#710">&quot;</span></span>)}} <span style="color:#080;font-weight:bold">unless</span> vm.guest_applications.nil?
      <span style="color:#d70">$evm</span>.log(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">info</span><span style="color:#710">&quot;</span></span>,<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span><span style="color:#33B">@log_prefix</span><span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20"> - VM:&lt;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>vm.name<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20">&gt; End Guest Applications</span><span style="color:#710">&quot;</span></span>)
      <span style="color:#d70">$evm</span>.log(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">info</span><span style="color:#710">&quot;</span></span>,<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#710">&quot;</span></span>)
    <span style="color:#080;font-weight:bold">end</span>

    <span style="color:#080;font-weight:bold">unless</span> vm.snapshots.nil?
      <span style="color:#d70">$evm</span>.log(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">info</span><span style="color:#710">&quot;</span></span>,<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span><span style="color:#33B">@log_prefix</span><span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20"> - VM:&lt;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>vm.name<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20">&gt; Begin Snapshots</span><span style="color:#710">&quot;</span></span>)
      vm.snapshots.each { |ss| ss.attributes.sort.each { |k, v| <span style="color:#d70">$evm</span>.log(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">info</span><span style="color:#710">&quot;</span></span>, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span><span style="color:#33B">@log_prefix</span><span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20"> - VM:&lt;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>vm.name<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20">&gt; Snapshot:&lt;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>ss.name<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20">&gt; - </span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>k<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20">: </span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>v.inspect<span style="font-weight:bold;color:#666">}</span></span><span style="color:#710">&quot;</span></span>)}} <span style="color:#080;font-weight:bold">unless</span> vm.snapshots.nil?
      <span style="color:#d70">$evm</span>.log(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">info</span><span style="color:#710">&quot;</span></span>,<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span><span style="color:#33B">@log_prefix</span><span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20"> - VM:&lt;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>vm.name<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20">&gt; End Snapshots</span><span style="color:#710">&quot;</span></span>)
      <span style="color:#d70">$evm</span>.log(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">info</span><span style="color:#710">&quot;</span></span>,<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#710">&quot;</span></span>)
    <span style="color:#080;font-weight:bold">end</span>

    <span style="color:#080;font-weight:bold">unless</span> vm.storage.nil?
      <span style="color:#d70">$evm</span>.log(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">info</span><span style="color:#710">&quot;</span></span>,<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span><span style="color:#33B">@log_prefix</span><span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20"> - VM:&lt;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>vm.name<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20">&gt; Begin VM Storage [vm.storage]</span><span style="color:#710">&quot;</span></span>)
      vm.storage.attributes.sort.each { |stor_k, stor_v| <span style="color:#d70">$evm</span>.log(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">info</span><span style="color:#710">&quot;</span></span>, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span><span style="color:#33B">@log_prefix</span><span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20"> - VM:&lt;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>vm.name<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20">&gt; Storage:&lt;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>vm.storage.name<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20">&gt; </span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>stor_k<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20"> - </span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>stor_v.inspect<span style="font-weight:bold;color:#666">}</span></span><span style="color:#710">&quot;</span></span>)}
      <span style="color:#d70">$evm</span>.log(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">info</span><span style="color:#710">&quot;</span></span>,<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span><span style="color:#33B">@log_prefix</span><span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20"> - VM:&lt;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>vm.name<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20">&gt; End VM Storage [vm.storage]</span><span style="color:#710">&quot;</span></span>)
      <span style="color:#d70">$evm</span>.log(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">info</span><span style="color:#710">&quot;</span></span>,<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#710">&quot;</span></span>)
    <span style="color:#080;font-weight:bold">end</span>

    <span style="color:#d70">$evm</span>.log(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">info</span><span style="color:#710">&quot;</span></span>,<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span><span style="color:#33B">@log_prefix</span><span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20"> - VM:&lt;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>vm.name<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20">&gt; Begin Virtual Columns -----</span><span style="color:#710">&quot;</span></span>)
    vm.virtual_column_names.sort.each { |vcn| <span style="color:#d70">$evm</span>.log(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">info</span><span style="color:#710">&quot;</span></span>, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span><span style="color:#33B">@log_prefix</span><span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20"> - VM:&lt;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>vm.name<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20">&gt; Virtual Columns - </span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>vcn<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20">: </span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>vm.send(vcn).inspect<span style="font-weight:bold;color:#666">}</span></span><span style="color:#710">&quot;</span></span>)}
    <span style="color:#d70">$evm</span>.log(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">info</span><span style="color:#710">&quot;</span></span>,<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span><span style="color:#33B">@log_prefix</span><span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20"> - VM:&lt;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>vm.name<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20">&gt; End Virtual Columns -----</span><span style="color:#710">&quot;</span></span>)
    <span style="color:#d70">$evm</span>.log(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">info</span><span style="color:#710">&quot;</span></span>,<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#710">&quot;</span></span>)
  <span style="color:#080;font-weight:bold">end</span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="ruby">  <span style="color:#777">####################</span>
  <span style="color:#777">#</span>
  <span style="color:#777"># Method: createSnapshot</span>
  <span style="color:#777">#</span>
  <span style="color:#777">####################</span>

  <span style="color:#080;font-weight:bold">def</span> <span style="color:#06B;font-weight:bold">createSnapshot</span>(vm, snap_name, snap_desc=snap_name)
    <span style="color:#d70">$evm</span>.log(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">info</span><span style="color:#710">&quot;</span></span>,<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span><span style="color:#33B">@method</span><span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20"> - VM:&lt;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>vm.name<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20">&gt; Creating Snapshot:&lt;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>snap_name<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20">&gt; Description:&lt;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>snap_desc<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20">&gt;</span><span style="color:#710">&quot;</span></span>)
    vm.create_snapshot(snap_name, snap_desc)
  <span style="color:#080;font-weight:bold">end</span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="ruby">  <span style="color:#777">####################</span>
  <span style="color:#777"># Red Hat Virtualization Virtual Machines</span>
  <span style="color:#777"># Method: createSnapshot</span>
  <span style="color:#777">#</span>
  <span style="color:#777">####################</span>

        <span style="color:#080;font-weight:bold">def</span> <span style="color:#06B;font-weight:bold">createSnapshot</span>(vm, snap_desc=snap_name)
                <span style="color:#d70">$evm</span>.log(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">info</span><span style="color:#710">&quot;</span></span>,<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span><span style="color:#33B">@method</span><span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20"> - VM:&lt;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>vm.name<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20">&gt; Creating Snapshot:&lt;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>snap_name<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20">&gt; Description:&lt;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>snap_desc<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20">&gt;</span><span style="color:#710">&quot;</span></span>)
                vm.create_snapshot(snap_desc)
        <span style="color:#080;font-weight:bold">end</span></code></pre>
</div>
</div>
<div class="sect3">
<h4 id="_sect_vms_vm"><a class="anchor" href="#_sect_vms_vm"></a>1.39.1. VMs (vm)</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Method</th>
<th class="tableblock halign-left valign-top">Use</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">add_to_service(service)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Adds the VM to a service object</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">remove_from_service</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Removes the VM from its parent service</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>The following table lists the metric types available for the <code>get_realtime_metric(metric, range, function)</code> method for virtual machines.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Metric</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">v_derived_storage_used</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Capacity - Used space in bytes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">v_pct_cpu_ready_delta_summation</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CPU - Percentage ready</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">v_pct_cpu_wait_delta_summation</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CPU - Percentage wait</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">v_pct_cpu_used_delta_summation</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CPU - Percentage used</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">v_derived_vm_count</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">State - Peak average virtual machines (Hourly Count / Daily Average)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">v_derived_cpu_reserved_pct</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CPU - Percentage available</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">v_derived_memory_reserved_pct</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Memory - Percentage available</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>The following Ruby snippet demonstrates using the <code>get_realtime_metric(metric, range, function)</code> method using the <code>v_pct_cpu_ready_delta_summation</code> metric.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="ruby">host = <span style="color:#d70">$evm</span>.root[<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">vm</span><span style="color:#710">'</span></span>]
cpu_rdy = vm.get_realtime_metric(<span style="color:#A60">:v_pct_cpu_ready_delta_summation</span>, [<span style="color:#00D">15</span>.minutes.ago.utc,<span style="color:#00D">5</span>.minutes.ago.utc], <span style="color:#A60">:avg</span>)</code></pre>
</div>
</div>
<div class="sect4">
<h5 id="vms-for-clouds-vm_cloud"><a class="anchor" href="#vms-for-clouds-vm_cloud"></a>VMs for Clouds (vm_cloud)</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Method</th>
<th class="tableblock halign-left valign-top">Use</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">availability_zone</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns object&#8217;s availability zone</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">flavor</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns object&#8217;s favor</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">cloud_network</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns object&#8217;s cloud network</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">cloud_subnet</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns object&#8217;s cloud subnet</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">floating_ip</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns object&#8217;s floating IPs</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">security_groups</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns object&#8217;s security groups</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">key_pairs</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns object&#8217;s key pairs</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_windows_image"><a class="anchor" href="#_windows_image"></a>1.40. Windows Image (windows_image)</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Method</th>
<th class="tableblock halign-left valign-top">Use</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">customization_templates</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns the images customization templates.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">pxe_server</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns the images pxe server.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_sect_creating_categories_and_tags"><a class="anchor" href="#_sect_creating_categories_and_tags"></a>1.41. Creating Categories and Tags</h3>
<div class="paragraph">
<p>These methods are invoked using $evm.execute.
See after the table for usage examples.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Method(parameter)</th>
<th class="tableblock halign-left valign-top">Use</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">category_exists?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Checks to see if a tag category exists. Usually used with unless or if to then create a category that does not exist.</p>
<p class="tableblock">								Example: $evm.execute('category_exists?', "department")</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">category_create</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Creates a new category, and if only one tag value from this category can be assigned to a configuration item, sets that tag value using the <code>single_value</code> option.</p>
<p class="tableblock">								Example: $evm.execute('category_create', :name &#8658; "department", :single_value &#8658; false, :description &#8658; "Department")</p>
<p class="tableblock">							    <strong>NOTE:</strong></p>
<p class="tableblock">							    The <code>category_create</code> method currently does not work as expected. The user interface shows the value provided for <code>:description</code> in the <strong>Display Name</strong> field and the value provided for <code>:example_text</code> is displayed in the <strong>Description</strong> field.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">tag_exists?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Checks to see if a tag exists in a category.</p>
<p class="tableblock">								Example: $evm.execute('tag_exists?', "department", "finance")</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">tag_create</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Creates a new tag in the specified category.</p>
<p class="tableblock">								Example: $evm.execute('tag_create', "department", :name &#8658; "finance", :description &#8658; "Finance")</p></td>
</tr>
</tbody>
</table>
<div class="sect3">
<h4 id="_category_and_tags_methods_example1"><a class="anchor" href="#_category_and_tags_methods_example1"></a>1.41.1. Category and Tags Methods Example</h4>
<div class="paragraph">
<p>In this example, the VMDB is checked to see if the <strong>Department</strong> category exists.
If it does, then a message is logged.
If not, the category is created and a message is logged.
Values are then added to the category.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="ruby"><span style="color:#080;font-weight:bold">if</span> <span style="color:#d70">$evm</span>.execute(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">category_exists?</span><span style="color:#710">'</span></span>, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">department</span><span style="color:#710">&quot;</span></span>)
  <span style="color:#d70">$evm</span>.log(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">info</span><span style="color:#710">&quot;</span></span>, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">Classification department exists</span><span style="color:#710">&quot;</span></span>)
<span style="color:#080;font-weight:bold">else</span>
  <span style="color:#d70">$evm</span>.log(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">info</span><span style="color:#710">&quot;</span></span>, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">Classification department doesn't exist, creating category</span><span style="color:#710">&quot;</span></span>)
  <span style="color:#d70">$evm</span>.execute(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">category_create</span><span style="color:#710">'</span></span>, <span style="color:#A60">:name</span> =&gt; <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">department</span><span style="color:#710">&quot;</span></span>, <span style="color:#A60">:single_value</span> =&gt; <span style="color:#069">false</span>, <span style="color:#A60">:description</span> =&gt; <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">Department</span><span style="color:#710">&quot;</span></span>)
  <span style="color:#d70">$evm</span>.log(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">info</span><span style="color:#710">&quot;</span></span>, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">Adding new tag in Department Category</span><span style="color:#710">&quot;</span></span>)
  <span style="color:#d70">$evm</span>.execute(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">tag_create</span><span style="color:#710">'</span></span>, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">department</span><span style="color:#710">&quot;</span></span>, <span style="color:#A60">:name</span> =&gt; <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">finance</span><span style="color:#710">&quot;</span></span>, <span style="color:#A60">:description</span> =&gt; <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">Finance</span><span style="color:#710">&quot;</span></span>)</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_quota2"><a class="anchor" href="#_quota2"></a>1.42. Quota</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Method(parameter)</th>
<th class="tableblock halign-left valign-top">Use</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">vms_by_owner, vms_by_group, vms_by_owner_and_group</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Collect stats about existing VMs by owner or in the same LDAP group as the owner in the current request.</p>
<p class="tableblock">							Sample return object:</p>
<p class="tableblock">							{:class_name&#8658;"Vm", :count&#8658;5, :ids&#8658;[22, 120, 121, 122, 117], :cpu&#8658;6, :memory&#8658;5120, :allocated_storage&#8658;29032972288, :used_storage&#8658;29032972288}</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">retired_vms_by_owner, retired_vms_by_group, retired_vms_by_owner_and_group</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Collect stats about retired VMs, that have not been deleted from the host, by owner or in the same LDAP group as the owner in the current request.</p>
<p class="tableblock">							Sample return object:</p>
<p class="tableblock">							{:class_name&#8658;"Vm", :count&#8658;5, :ids&#8658;[22, 120, 121, 122, 117], :cpu&#8658;6, :memory&#8658;5120, :allocated_storage&#8658;29032972288, :used_storage&#8658;29032972288}</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">provisions_by_owner, provisions_by_group</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Collect stats based on provisions running on the same day as the current request (based on scheduled date or immediate) by owner or in the same LDAP group as the owner. (Results do not include Provision Requests that have not been approved.)</p>
<p class="tableblock">							Sample return object:</p>
<p class="tableblock">							{:class_name&#8658;"MiqProvisionRequest", :count&#8658;6, :ids&#8658;[115, 116, 104, 102, 105, 112], :cpu&#8658;6, :memory&#8658;1536, , :storage&#8658;62914560}</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">requests_by_owner, requests_by_group</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Collect stats based on provision requests made the same day as the request by the same owner or LDAP group as the owner in the current request, regardless of when the provision request is scheduled to run. (Results do not include Provision Requests that have been denied.)</p>
<p class="tableblock">							Sample return object:</p>
<p class="tableblock">							{:class_name&#8658;"MiqProvisionRequest", :count&#8658;6, :ids&#8658;[115, 116, 104, 102, 105, 112], :cpu&#8658;6, :memory&#8658;1536, , :storage&#8658;62914560}</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">active_provisions_by_owner, active_provisions_by_group, active_provisions</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Collect stats based on currently active provision requests by the same owner or LDAP group as the owner in the current request.</p>
<p class="tableblock">							Sample return object:</p>
<p class="tableblock">							{:class_name&#8658;"MiqProvisionRequest", :count&#8658;6, :ids&#8658;[115, 116, 104, 102, 105, 112], :cpu&#8658;6, :memory&#8658;1536, , :storage&#8658;62914560}</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="terminology"><a class="anchor" href="#terminology"></a>Appendix A: Terminology</h2>
<div class="sectionbody">
<div class="dlist">
<dl>
<dt class="hdlist1">Account Role</dt>
<dd>
<p>A designation assigned to a user allowing or restricting a user to
parts and functions of the ManageIQ console.</p>
</dd>
<dt class="hdlist1">Action</dt>
<dd>
<p>An execution that is performed after a condition is evaluated.</p>
</dd>
<dt class="hdlist1">Alert</dt>
<dd>
<p>ManageIQ alerts notify administrators and
monitoring systems of critical configuration changes and threshold
limits in the virtual environment. The notification can take the form
of either an email or an SNMP trap.</p>
</dd>
<dt class="hdlist1">Analysis Profile</dt>
<dd>
<p>A customized scan of hosts, virtual machines, or instances. You can
collect information from categories, files, event logs, and registry
entries.</p>
</dd>
<dt class="hdlist1">Cloud</dt>
<dd>
<p>A pool of on-demand and highly available computing resources. The
usage of these resources are scaled depending on the user requirements
and metered for cost.</p>
</dd>
<dt class="hdlist1">ManageIQ appliance</dt>
<dd>
<p>A virtual machine on which the virtual management database (VMDB) and
ManageIQ server reside.</p>
</dd>
<dt class="hdlist1">ManageIQ Console</dt>
<dd>
<p>A web-based interface into the ManageIQ appliance.</p>
</dd>
<dt class="hdlist1">ManageIQ Role</dt>
<dd>
<p>A designation assigned to a ManageIQ server that
defines what a ManageIQ server can do.</p>
</dd>
<dt class="hdlist1">ManageIQ Server</dt>
<dd>
<p>The application that runs on the ManageIQ
appliance and communicates with the SmartProxy and the VMDB.</p>
</dd>
<dt class="hdlist1">Cluster</dt>
<dd>
<p>Hosts that are grouped together to provide high availability and load
balancing.</p>
</dd>
<dt class="hdlist1">Condition</dt>
<dd>
<p>A test of criteria triggered by an event.</p>
</dd>
<dt class="hdlist1">Discovery</dt>
<dd>
<p>Process run by the ManageIQ server which finds
virtual machine and cloud providers.</p>
</dd>
<dt class="hdlist1">Drift</dt>
<dd>
<p>The comparison of a virtual machine, instance, host, cluster to itself
at different points in time.</p>
</dd>
<dt class="hdlist1">Event</dt>
<dd>
<p>A trigger to check a condition.</p>
</dd>
<dt class="hdlist1">Event Monitor</dt>
<dd>
<p>Software on the ManageIQ appliance which monitors
external providers for events and sends them to the ManageIQ server.</p>
</dd>
<dt class="hdlist1">Host</dt>
<dd>
<p>A computer on which virtual machine monitor software is loaded.</p>
</dd>
<dt class="hdlist1">Instance/Cloud Instance</dt>
<dd>
<p>A on-demand virtual machine based upon a predefined image and uses a
scalable set of hardware resources such as CPU, memory, networking
interfaces.</p>
</dd>
<dt class="hdlist1">Managed/Registered VM</dt>
<dd>
<p>A virtual machine that is connected to a host and exists in the VMDB.
Also, a template that is connected to a provider and exists in the
VMDB. Note that templates cannot be connected to a host.</p>
</dd>
<dt class="hdlist1">Managed/Unregistered VM</dt>
<dd>
<p>A virtual machine or template that resides on a repository or is no
longer connected to a provider or host and exists in the VMDB. A
virtual machine that was previously considered registered may become
unregistered if the virtual machine was removed from provider
inventory.</p>
</dd>
<dt class="hdlist1">Provider</dt>
<dd>
<p>A computer on which software is loaded which manages multiple virtual
machines that reside on multiple hosts.</p>
</dd>
<dt class="hdlist1">Policy</dt>
<dd>
<p>A combination of an event, a condition, and an action used to manage a
virtual machine.</p>
</dd>
<dt class="hdlist1">Policy Profile</dt>
<dd>
<p>A set of policies.</p>
</dd>
<dt class="hdlist1">Refresh</dt>
<dd>
<p>A process run by the ManageIQ server which checks
for relationships of the provider or host to other resources, such as
storage locations, repositories, virtual machines, or instances. It
also checks the power states of those resources.</p>
</dd>
<dt class="hdlist1">Regions</dt>
<dd>
<p>Regions are used to create a central database for reporting and
charting. Regions are used primarily to consolidate multiple VMDBs
into one master VMDB for reporting.</p>
</dd>
<dt class="hdlist1">Resource</dt>
<dd>
<p>A host, provider, instance, virtual machine, repository, or datastore.</p>
</dd>
<dt class="hdlist1">Resource Pool</dt>
<dd>
<p>A group of virtual machines across which CPU and memory resources are
allocated.</p>
</dd>
<dt class="hdlist1">Repository</dt>
<dd>
<p>A place on a datastore resource which contains virtual machines.</p>
</dd>
<dt class="hdlist1">SmartProxy</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>The SmartProxy is a software agent that acts on behalf of the ManageIQ appliance to perform actions on hosts, providers, storage and virtual machines.</p>
</li>
<li>
<p>The SmartProxy can be configured to reside on the ManageIQ appliance or on an ESX server version.</p>
</li>
<li>
<p>The SmartProxy can be deployed from the ManageIQ appliance, and provides visibility to the VMFS storage. Each storage location must have a SmartProxy with visibility to it. The SmartProxy acts on behalf of the ManageIQ appliance.</p>
</li>
<li>
<p>If the SmartProxy is not embedded in the ManageIQ server, it communicates with the ManageIQ appliance over HTTPS on standard port 443.</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">SmartState Analysis</dt>
<dd>
<p>Process run by the SmartProxy which collects the details of a virtual
machine or instance. Such details include accounts, drivers, network
information, hardware, and security patches. This process is also run
by the ManageIQ server on hosts and clusters. The
data is stored in the VMDB.</p>
</dd>
<dt class="hdlist1">SmartTags</dt>
<dd>
<p>Descriptors that allow you to create a customized, searchable index
for the resources in your clouds and infrastructure.</p>
</dd>
<dt class="hdlist1">Storage Location</dt>
<dd>
<p>A device, such as a VMware datastore, where digital information
resides that is connected to a resource.</p>
</dd>
<dt class="hdlist1">Tags</dt>
<dd>
<p>Descriptive terms defined by a ManageIQ user or
the system used to categorize a resource.</p>
</dd>
<dt class="hdlist1">Template</dt>
<dd>
<p>A template is a copy of a preconfigured virtual machine, designed to
capture installed software and software configurations, as well as the
hardware configuration, of the original virtual machine.</p>
</dd>
<dt class="hdlist1">Unmanaged Virtual Machine</dt>
<dd>
<p>Files discovered on a datastore that do not have a virtual machine
associated with them in the VMDB. These files may be registered to a
provider that the ManageIQ server does not have
configuration information on. Possible causes may be that the provider
has not been discovered or that the provider has been discovered, but
no security credentials have been provided.</p>
</dd>
<dt class="hdlist1">Virtual Machine</dt>
<dd>
<p>A software implementation of a system that functions similar to a
physical machine. Virtual machines utilize the hardware infrastructure
of a physical host, or a set of physical hosts, to provide a scalable
and on-demand method of system provisioning.</p>
</dd>
<dt class="hdlist1">Virtual Management Database (VMDB)</dt>
<dd>
<p>Database used by the ManageIQ appliance to store
information about your resources, users, and anything else required to
manage your virtual enterprise.</p>
</dd>
<dt class="hdlist1">Virtual Thumbnail</dt>
<dd>
<p>An icon divided into smaller areas that summarize the properties of a
resource.</p>
</dd>
<dt class="hdlist1">Zones</dt>
<dd>
<p>ManageIQ Infrastructure can be organized into
zones to configure failover and to isolate traffic. Zones can be
created based on your environment. Zones can be based on geographic
location, network location, or function. When first started, new
servers are put into the default zone.</p>
</dd>
</dl>
</div>
</div>
</div>
<div id="footnotes">
<hr>
<div class="footnote" id="_footnotedef_1">
<a href="#_footnoteref_1">1</a>. Supported for Red Hat Virtualization and VMWare virtual machines
</div>
</div>